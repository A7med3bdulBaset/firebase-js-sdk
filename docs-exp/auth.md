<!-- Do not edit this file. It is automatically generated by API Documenter. -->

{% extends "_internal/templates/reference.html" %}
{% block body %}

## auth package

## Classes

|  Class | Description |
|  --- | --- |
|  [ActionCodeURL](./auth.actioncodeurl.md#actioncodeurl_class) | A utility class to parse email action URLs such as password reset, email verification, email link sign in, etc. |
|  [AuthCredential](./auth.authcredential.md#authcredential_class) | Interface that represents the credentials returned by an [AuthProvider](./auth-types.authprovider.md#authprovider_interface)<!-- -->. |
|  [EmailAuthCredential](./auth.emailauthcredential.md#emailauthcredential_class) | Interface that represents the credentials returned by [EmailAuthProvider](./auth.emailauthprovider.md#emailauthprovider_class) for [ProviderId.PASSWORD](./auth-types.md#provideridpassword_enummember) |
|  [EmailAuthProvider](./auth.emailauthprovider.md#emailauthprovider_class) | Provider for generating [EmailAuthCredential](./auth.emailauthcredential.md#emailauthcredential_class)<!-- -->. |
|  [FacebookAuthProvider](./auth.facebookauthprovider.md#facebookauthprovider_class) | Provider for generating an [OAuthCredential](./auth.oauthcredential.md#oauthcredential_class) for [ProviderId.FACEBOOK](./auth-types.md#provideridfacebook_enummember)<!-- -->. |
|  [GithubAuthProvider](./auth.githubauthprovider.md#githubauthprovider_class) | Provider for generating an [OAuthCredential](./auth.oauthcredential.md#oauthcredential_class) for [ProviderId.GITHUB](./auth-types.md#provideridgithub_enummember)<!-- -->. |
|  [GoogleAuthProvider](./auth.googleauthprovider.md#googleauthprovider_class) | Provider for generating an an [OAuthCredential](./auth.oauthcredential.md#oauthcredential_class) for [ProviderId.GOOGLE](./auth-types.md#provideridgoogle_enummember)<!-- -->. |
|  [OAuthCredential](./auth.oauthcredential.md#oauthcredential_class) | Interface that represents the OAuth credentials returned by an [OAuthProvider](./auth.oauthprovider.md#oauthprovider_class)<!-- -->. |
|  [OAuthProvider](./auth.oauthprovider.md#oauthprovider_class) | Provider for generating generic [OAuthCredential](./auth.oauthcredential.md#oauthcredential_class)<!-- -->. |
|  [PhoneAuthCredential](./auth.phoneauthcredential.md#phoneauthcredential_class) | Interface that represents the credentials returned by a [PhoneAuthProvider](./auth.phoneauthprovider.md#phoneauthprovider_class)<!-- -->. |
|  [PhoneAuthProvider](./auth.phoneauthprovider.md#phoneauthprovider_class) | Provider for generating an [PhoneAuthCredential](./auth.phoneauthcredential.md#phoneauthcredential_class)<!-- -->. |
|  [PhoneMultiFactorGenerator](./auth.phonemultifactorgenerator.md#phonemultifactorgenerator_class) | Provider for generating a [PhoneMultiFactorAssertion](./auth-types.phonemultifactorassertion.md#phonemultifactorassertion_interface)<!-- -->. |
|  [RecaptchaVerifier](./auth.recaptchaverifier.md#recaptchaverifier_class) | An [reCAPTCHA](https://www.google.com/recaptcha/)<!-- -->-based application verifier. |
|  [TwitterAuthProvider](./auth.twitterauthprovider.md#twitterauthprovider_class) | Provider for generating an [OAuthCredential](./auth.oauthcredential.md#oauthcredential_class) for [ProviderId.TWITTER](./auth-types.md#provideridtwitter_enummember)<!-- -->. |

## Functions

|  Function | Description |
|  --- | --- |
|  [applyActionCode(auth, oobCode)](./auth.md#applyactioncode_function) | Applies a verification code sent to the user by email or other out-of-band mechanism. |
|  [checkActionCode(auth, oobCode)](./auth.md#checkactioncode_function) | Checks a verification code sent to the user by email or other out-of-band mechanism. |
|  [confirmPasswordReset(auth, oobCode, newPassword)](./auth.md#confirmpasswordreset_function) | Completes the password reset process, given a confirmation code and new password. |
|  [createUserWithEmailAndPassword(auth, email, password)](./auth.md#createuserwithemailandpassword_function) | Creates a new user account associated with the specified email address and password. |
|  [deleteUser(user)](./auth.md#deleteuser_function) | Deletes and signs out the user. |
|  [fetchSignInMethodsForEmail(auth, email)](./auth.md#fetchsigninmethodsforemail_function) | Gets the list of possible sign in methods for the given email address. |
|  [getAdditionalUserInfo(userCredential)](./auth.md#getadditionaluserinfo_function) | Extracts provider specific [AdditionalUserInfo](./auth-types.additionaluserinfo.md#additionaluserinfo_interface) for the given credential. |
|  [getAuth(app)](./auth.md#getauth_function) | Initializes an Auth instance with platform specific default dependencies. |
|  [getIdToken(user, forceRefresh)](./auth.md#getidtoken_function) | Returns a JSON Web Token (JWT) used to identify the user to a Firebase service. |
|  [getIdTokenResult(user, forceRefresh)](./auth.md#getidtokenresult_function) | Returns a deserialized JSON Web Token (JWT) used to identitfy the user to a Firebase service. |
|  [getMultiFactorResolver(auth, error)](./auth.md#getmultifactorresolver_function) | Provides a [MultiFactorResolver](./auth-types.multifactorresolver.md#multifactorresolver_interface) suitable for completion of a multi-factor flow. |
|  [getRedirectResult(auth, resolver)](./auth.md#getredirectresult_function) | Returns a [UserCredential](./auth-types.usercredential.md#usercredential_interface) from the redirect-based sign-in flow. |
|  [initializeAuth(app, deps)](./auth.md#initializeauth_function) |  |
|  [isSignInWithEmailLink(auth, emailLink)](./auth.md#issigninwithemaillink_function) | Checks if an incoming link is a sign-in with email link suitable for [signInWithEmailLink()](./auth.md#signinwithemaillink_function)<!-- -->. |
|  [linkWithCredential(user, credential)](./auth.md#linkwithcredential_function) | Links the user account with the given credentials. |
|  [linkWithPhoneNumber(user, phoneNumber, appVerifier)](./auth.md#linkwithphonenumber_function) | Links the user account with the given phone number. |
|  [linkWithPopup(user, provider, resolver)](./auth.md#linkwithpopup_function) | Links the authenticated provider to the user account using a pop-up based OAuth flow. |
|  [linkWithRedirect(user, provider, resolver)](./auth.md#linkwithredirect_function) | Links the [OAuthProvider](./auth.oauthprovider.md#oauthprovider_class) to the user account using a full-page redirect flow. |
|  [multiFactor(user)](./auth.md#multifactor_function) | The [MultiFactorUser](./auth-types.multifactoruser.md#multifactoruser_interface) corresponding to the user. |
|  [onAuthStateChanged(auth, nextOrObserver, error, completed)](./auth.md#onauthstatechanged_function) | Adds an observer for changes to the user's sign-in state. |
|  [onIdTokenChanged(auth, nextOrObserver, error, completed)](./auth.md#onidtokenchanged_function) | Adds an observer for changes to the signed-in user's ID token, which includes sign-in, sign-out, and token refresh events. |
|  [parseActionCodeURL(link)](./auth.md#parseactioncodeurl_function) | Parses the email action link string and returns an [ActionCodeURL](./auth.actioncodeurl.md#actioncodeurl_class) if the link is valid, otherwise returns null. |
|  [reauthenticateWithCredential(user, credential)](./auth.md#reauthenticatewithcredential_function) | Re-authenticates a user using a fresh credential. |
|  [reauthenticateWithPhoneNumber(user, phoneNumber, appVerifier)](./auth.md#reauthenticatewithphonenumber_function) | Re-authenticates a user using a fresh phne credential. |
|  [reauthenticateWithPopup(user, provider, resolver)](./auth.md#reauthenticatewithpopup_function) | Reauthenticates the current user with the specified [OAuthProvider](./auth.oauthprovider.md#oauthprovider_class) using a pop-up based OAuth flow. |
|  [reauthenticateWithRedirect(user, provider, resolver)](./auth.md#reauthenticatewithredirect_function) | Reauthenticates the current user with the specified [OAuthProvider](./auth.oauthprovider.md#oauthprovider_class) using a full-page redirect flow. |
|  [reload(user)](./auth.md#reload_function) | Reloads user account data, if signed in. |
|  [sendEmailVerification(user, actionCodeSettings)](./auth.md#sendemailverification_function) | Sends a verification email to a user. |
|  [sendPasswordResetEmail(auth, email, actionCodeSettings)](./auth.md#sendpasswordresetemail_function) | Sends a password reset email to the given email address. |
|  [sendSignInLinkToEmail(auth, email, actionCodeSettings)](./auth.md#sendsigninlinktoemail_function) | Sends a sign-in email link to the user with the specified email. |
|  [setPersistence(auth, persistence)](./auth.md#setpersistence_function) | Changes the type of persistence on the Auth instance for the currently saved Auth session and applies this type of persistence for future sign-in requests, including sign-in with redirect requests. |
|  [signInAnonymously(auth)](./auth.md#signinanonymously_function) | Asynchronously signs in as an anonymous user. |
|  [signInWithCredential(auth, credential)](./auth.md#signinwithcredential_function) | Asynchronously signs in with the given credentials. |
|  [signInWithCustomToken(auth, customToken)](./auth.md#signinwithcustomtoken_function) | Asynchronously signs in using a custom token. |
|  [signInWithEmailAndPassword(auth, email, password)](./auth.md#signinwithemailandpassword_function) | Asynchronously signs in using an email and password. |
|  [signInWithEmailLink(auth, email, emailLink)](./auth.md#signinwithemaillink_function) | Asynchronously signs in using an email and sign-in email link. |
|  [signInWithPhoneNumber(auth, phoneNumber, appVerifier)](./auth.md#signinwithphonenumber_function) | Asynchronously signs in using a phone number. |
|  [signInWithPopup(auth, provider, resolver)](./auth.md#signinwithpopup_function) | Authenticates a Firebase client using a popup-based OAuth authentication flow. |
|  [signInWithRedirect(auth, provider, resolver)](./auth.md#signinwithredirect_function) | Authenticates a Firebase client using a full-page redirect flow. |
|  [signOut(auth)](./auth.md#signout_function) | Signs out the current user. |
|  [unlink(user, providerId)](./auth.md#unlink_function) | Unlinks a provider from a user account. |
|  [updateCurrentUser(auth, user)](./auth.md#updatecurrentuser_function) | Asynchronously sets the provided user as [Auth.currentUser](./auth-types.auth.md#authcurrentuser_property) on the [Auth](./auth-types.auth.md#auth_interface) instance. |
|  [updateEmail(user, newEmail)](./auth.md#updateemail_function) | Updates the user's email address. |
|  [updatePassword(user, newPassword)](./auth.md#updatepassword_function) | Updates the user's password. |
|  [updatePhoneNumber(user, credential)](./auth.md#updatephonenumber_function) | Updates the user's phone number. |
|  [updateProfile(user, { displayName, photoURL: photoUrl })](./auth.md#updateprofile_function) | Updates a user's profile data. |
|  [useAuthEmulator(auth, url, options)](./auth.md#useauthemulator_function) | Changes the Auth instance to communicate with the Firebase Auth Emulator, instead of production Firebase Auth services. |
|  [useDeviceLanguage(auth)](./auth.md#usedevicelanguage_function) | Sets the current language to the default device/browser preference. |
|  [verifyBeforeUpdateEmail(user, newEmail, actionCodeSettings)](./auth.md#verifybeforeupdateemail_function) | Sends a verification email to a new email address. |
|  [verifyPasswordResetCode(auth, code)](./auth.md#verifypasswordresetcode_function) | Checks a password reset code sent to the user by email or other out-of-band mechanism. |

## Interfaces

|  Interface | Description |
|  --- | --- |
|  [OAuthCredentialOptions](./auth.oauthcredentialoptions.md#oauthcredentialoptions_interface) | Defines the options for initializing an [OAuthCredential](./auth.oauthcredential.md#oauthcredential_class)<!-- -->. |

## Variables

|  Variable | Description |
|  --- | --- |
|  [browserLocalPersistence](./auth.md#browserlocalpersistence_variable) | An implementation of [Persistence](./auth-types.persistence.md#persistence_interface) of type 'LOCAL' using <code>localStorage</code> for the underlying storage. |
|  [browserPopupRedirectResolver](./auth.md#browserpopupredirectresolver_variable) | An implementation of [PopupRedirectResolver](./auth-types.popupredirectresolver.md#popupredirectresolver_interface) suitable for browser based applications. |
|  [browserSessionPersistence](./auth.md#browsersessionpersistence_variable) | An implementation of [Persistence](./auth-types.persistence.md#persistence_interface) of 'SESSION' using <code>sessionStorage</code> for the underlying storage. |
|  [debugErrorMap](./auth.md#debugerrormap_variable) | A verbose error map with detailed descriptions for most error codes.<!-- -->See discussion at [AuthErrorMap](./auth-types.autherrormap.md#autherrormap_interface) |
|  [indexedDBLocalPersistence](./auth.md#indexeddblocalpersistence_variable) | An implementation of [Persistence](./auth-types.persistence.md#persistence_interface) of type 'LOCAL' using <code>indexedDB</code> for the underlying storage. |
|  [inMemoryPersistence](./auth.md#inmemorypersistence_variable) | An implementation of [Persistence](./auth-types.persistence.md#persistence_interface) of type 'NONE'. |
|  [prodErrorMap](./auth.md#proderrormap_variable) | A minimal error map with all verbose error messages stripped.<!-- -->See discussion at [AuthErrorMap](./auth-types.autherrormap.md#autherrormap_interface) |

## Type Aliases

|  Type Alias | Description |
|  --- | --- |
|  [CustomParameters](./auth.md#customparameters_type) | Map of OAuth Custom Parameters. |

## applyActionCode() function

Applies a verification code sent to the user by email or other out-of-band mechanism.

<b>Signature:</b>

```typescript
export declare function applyActionCode(auth: externs.Auth, oobCode: string): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  oobCode | string | A verification code sent to the user. |

<b>Returns:</b>

Promise&lt;void&gt;

## checkActionCode() function

Checks a verification code sent to the user by email or other out-of-band mechanism.

<b>Signature:</b>

```typescript
export declare function checkActionCode(auth: externs.Auth, oobCode: string): Promise<externs.ActionCodeInfo>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  oobCode | string | A verification code sent to the user. |

<b>Returns:</b>

Promise&lt;externs.[ActionCodeInfo](./auth-types.actioncodeinfo.md#actioncodeinfo_interface)<!-- -->&gt;

metadata about the code.

## confirmPasswordReset() function

Completes the password reset process, given a confirmation code and new password.

<b>Signature:</b>

```typescript
export declare function confirmPasswordReset(auth: externs.Auth, oobCode: string, newPassword: string): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  oobCode | string | A confirmation code sent to the user. |
|  newPassword | string | The new password. |

<b>Returns:</b>

Promise&lt;void&gt;

## createUserWithEmailAndPassword() function

Creates a new user account associated with the specified email address and password.

<b>Signature:</b>

```typescript
export declare function createUserWithEmailAndPassword(auth: externs.Auth, email: string, password: string): Promise<externs.UserCredential>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  email | string | The user's email address. |
|  password | string | The user's chosen password. |

<b>Returns:</b>

Promise&lt;externs.[UserCredential](./auth-types.usercredential.md#usercredential_interface)<!-- -->&gt;

## Remarks

On successful creation of the user account, this user will also be signed in to your application.

User account creation can fail if the account already exists or the password is invalid.

Note: The email address acts as a unique identifier for the user and enables an email-based password reset. This function will create a new user account and set the initial user password.

## deleteUser() function

Deletes and signs out the user.

<b>Signature:</b>

```typescript
export declare function deleteUser(user: externs.User): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |

<b>Returns:</b>

Promise&lt;void&gt;

## Remarks

Important: this is a security-sensitive operation that requires the user to have recently signed in. If this requirement isn't met, ask the user to authenticate again and then call [reauthenticateWithCredential()](./auth.md#reauthenticatewithcredential_function)<!-- -->.

## fetchSignInMethodsForEmail() function

Gets the list of possible sign in methods for the given email address.

<b>Signature:</b>

```typescript
export declare function fetchSignInMethodsForEmail(auth: externs.Auth, email: string): Promise<string[]>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  email | string | The user's email address. |

<b>Returns:</b>

Promise&lt;string\[\]&gt;

## Remarks

This is useful to differentiate methods of sign-in for the same provider, eg. [EmailAuthProvider](./auth.emailauthprovider.md#emailauthprovider_class) which has 2 methods of sign-in, [SignInMethod.EMAIL\_PASSWORD](./auth-types.md#signinmethodemail_password_enummember) and [SignInMethod.EMAIL\_LINK](./auth-types.md#signinmethodemail_link_enummember) .

## getAdditionalUserInfo() function

Extracts provider specific [AdditionalUserInfo](./auth-types.additionaluserinfo.md#additionaluserinfo_interface) for the given credential.

<b>Signature:</b>

```typescript
export declare function getAdditionalUserInfo(userCredential: externs.UserCredential): externs.AdditionalUserInfo | null;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  userCredential | externs.[UserCredential](./auth-types.usercredential.md#usercredential_interface) | The user credential. |

<b>Returns:</b>

externs.[AdditionalUserInfo](./auth-types.additionaluserinfo.md#additionaluserinfo_interface) \| null

## getAuth() function

Initializes an Auth instance with platform specific default dependencies.

<b>Signature:</b>

```typescript
export declare function getAuth(app: FirebaseApp): Auth;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  app | [FirebaseApp](./app-types.firebaseapp.md#firebaseapp_interface) | The Firebase App. |

<b>Returns:</b>

[Auth](./auth-types.auth.md#auth_interface)

## getIdToken() function

Returns a JSON Web Token (JWT) used to identify the user to a Firebase service.

<b>Signature:</b>

```typescript
export declare function getIdToken(user: externs.User, forceRefresh?: boolean): Promise<string>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |
|  forceRefresh | boolean | Force refresh regardless of token expiration. |

<b>Returns:</b>

Promise&lt;string&gt;

## Remarks

Returns the current token if it has not expired or if it will not expire in the next five minutes. Otherwise, this will refresh the token and return a new one.

## getIdTokenResult() function

Returns a deserialized JSON Web Token (JWT) used to identitfy the user to a Firebase service.

<b>Signature:</b>

```typescript
export declare function getIdTokenResult(user: externs.User, forceRefresh?: boolean): Promise<externs.IdTokenResult>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |
|  forceRefresh | boolean | Force refresh regardless of token expiration. |

<b>Returns:</b>

Promise&lt;externs.[IdTokenResult](./auth-types.idtokenresult.md#idtokenresult_interface)<!-- -->&gt;

## Remarks

Returns the current token if it has not expired or if it will not expire in the next five minutes. Otherwise, this will refresh the token and return a new one.

## getMultiFactorResolver() function

Provides a [MultiFactorResolver](./auth-types.multifactorresolver.md#multifactorresolver_interface) suitable for completion of a multi-factor flow.

<b>Signature:</b>

```typescript
export declare function getMultiFactorResolver(auth: externs.Auth, error: externs.MultiFactorError): externs.MultiFactorResolver;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The auth instance. |
|  error | externs.[MultiFactorError](./auth-types.multifactorerror.md#multifactorerror_interface) | The [MultiFactorError](./auth-types.multifactorerror.md#multifactorerror_interface) raised during a sign-in, or reauthentication operation. |

<b>Returns:</b>

externs.[MultiFactorResolver](./auth-types.multifactorresolver.md#multifactorresolver_interface)

## getRedirectResult() function

Returns a [UserCredential](./auth-types.usercredential.md#usercredential_interface) from the redirect-based sign-in flow.

<b>Signature:</b>

```typescript
export declare function getRedirectResult(auth: externs.Auth, resolver?: externs.PopupRedirectResolver): Promise<externs.UserCredential | null>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  resolver | externs.[PopupRedirectResolver](./auth-types.popupredirectresolver.md#popupredirectresolver_interface) | An instance of [PopupRedirectResolver](./auth-types.popupredirectresolver.md#popupredirectresolver_interface)<!-- -->, optional if already supplied to [initializeAuth()](./auth.md#initializeauth_function) or provided by [getAuth()](./auth.md#getauth_function)<!-- -->. |

<b>Returns:</b>

Promise&lt;externs.[UserCredential](./auth-types.usercredential.md#usercredential_interface) \| null&gt;

## Remarks

If sign-in succeeded, returns the signed in user. If sign-in was unsuccessful, fails with an error. If no redirect operation was called, returns a [UserCredential](./auth-types.usercredential.md#usercredential_interface) with a null `user`<!-- -->.

## Example


```javascript
// Sign in using a redirect.
const provider = new FacebookAuthProvider();
// You can add additional scopes to the provider:
provider.addScope('user_birthday');
// Start a sign in process for an unauthenticated user.
await signInWithRedirect(auth, provider);
// This will trigger a full page redirect away from your app

// After returning from the redirect when your app initializes you can obtain the result
const result = await getRedirectResult(auth);
if (result) {
  // This is the signed-in user
  const user = result.user;
  // This gives you a Facebook Access Token.
  const credential = provider.credentialFromResult(auth, result);
  const token = credential.accessToken;
}
// As this API can be used for sign-in, linking and reauthentication,
// check the operationType to determine what triggered this redirect
// operation.
const operationType = result.operationType;

```

## initializeAuth() function


<b>Signature:</b>

```typescript
export declare function initializeAuth(app: FirebaseApp, deps?: Dependencies): externs.Auth;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  app | [FirebaseApp](./app-types.firebaseapp.md#firebaseapp_interface) |  |
|  deps | Dependencies |  |

<b>Returns:</b>

externs.[Auth](./auth-types.auth.md#auth_interface)

## isSignInWithEmailLink() function

Checks if an incoming link is a sign-in with email link suitable for [signInWithEmailLink()](./auth.md#signinwithemaillink_function)<!-- -->.

<b>Signature:</b>

```typescript
export declare function isSignInWithEmailLink(auth: externs.Auth, emailLink: string): boolean;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  emailLink | string | The link sent to the user's email address. |

<b>Returns:</b>

boolean

## linkWithCredential() function

Links the user account with the given credentials.

<b>Signature:</b>

```typescript
export declare function linkWithCredential(user: externs.User, credential: externs.AuthCredential): Promise<UserCredential>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |
|  credential | externs.[AuthCredential](./auth-types.authcredential.md#authcredential_class) | The auth credential. |

<b>Returns:</b>

Promise&lt;[UserCredential](./auth-types.usercredential.md#usercredential_interface)<!-- -->&gt;

## Remarks

An [AuthProvider](./auth-types.authprovider.md#authprovider_interface) can be used to generate the credential.

## linkWithPhoneNumber() function

Links the user account with the given phone number.

<b>Signature:</b>

```typescript
export declare function linkWithPhoneNumber(user: externs.User, phoneNumber: string, appVerifier: externs.ApplicationVerifier): Promise<externs.ConfirmationResult>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |
|  phoneNumber | string | The user's phone number in E.164 format (e.g. +16505550101). |
|  appVerifier | externs.[ApplicationVerifier](./auth-types.applicationverifier.md#applicationverifier_interface) | The [ApplicationVerifier](./auth-types.applicationverifier.md#applicationverifier_interface)<!-- -->. |

<b>Returns:</b>

Promise&lt;externs.[ConfirmationResult](./auth-types.confirmationresult.md#confirmationresult_interface)<!-- -->&gt;

## linkWithPopup() function

Links the authenticated provider to the user account using a pop-up based OAuth flow.

<b>Signature:</b>

```typescript
export declare function linkWithPopup(user: externs.User, provider: externs.AuthProvider, resolver?: externs.PopupRedirectResolver): Promise<externs.UserCredential>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |
|  provider | externs.[AuthProvider](./auth-types.authprovider.md#authprovider_interface) | The provider to authenticate. The provider has to be an [OAuthProvider](./auth.oauthprovider.md#oauthprovider_class)<!-- -->. Non-OAuth providers like [EmailAuthProvider](./auth.emailauthprovider.md#emailauthprovider_class) will throw an error. |
|  resolver | externs.[PopupRedirectResolver](./auth-types.popupredirectresolver.md#popupredirectresolver_interface) | An instance of [PopupRedirectResolver](./auth-types.popupredirectresolver.md#popupredirectresolver_interface)<!-- -->, optional if already supplied to [initializeAuth()](./auth.md#initializeauth_function) or provided by [getAuth()](./auth.md#getauth_function)<!-- -->. |

<b>Returns:</b>

Promise&lt;externs.[UserCredential](./auth-types.usercredential.md#usercredential_interface)<!-- -->&gt;

## Remarks

If the linking is successful, the returned result will contain the user and the provider's credential.

## Example


```javascript
// Sign in using some other provider.
const result = await signInWithEmailAndPassword(auth, email, password);
// Link using a popup.
const provider = new FacebookAuthProvider();
await linkWithPopup(result.user, provider);

```

## linkWithRedirect() function

Links the [OAuthProvider](./auth.oauthprovider.md#oauthprovider_class) to the user account using a full-page redirect flow.

<b>Signature:</b>

```typescript
export declare function linkWithRedirect(user: externs.User, provider: externs.AuthProvider, resolver?: externs.PopupRedirectResolver): Promise<never>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |
|  provider | externs.[AuthProvider](./auth-types.authprovider.md#authprovider_interface) | The provider to authenticate. The provider has to be an [OAuthProvider](./auth.oauthprovider.md#oauthprovider_class)<!-- -->. Non-OAuth providers like [EmailAuthProvider](./auth.emailauthprovider.md#emailauthprovider_class) will throw an error. |
|  resolver | externs.[PopupRedirectResolver](./auth-types.popupredirectresolver.md#popupredirectresolver_interface) | An instance of [PopupRedirectResolver](./auth-types.popupredirectresolver.md#popupredirectresolver_interface)<!-- -->, optional if already supplied to [initializeAuth()](./auth.md#initializeauth_function) or provided by [getAuth()](./auth.md#getauth_function)<!-- -->. |

<b>Returns:</b>

Promise&lt;never&gt;

## Example


```javascript
// Sign in using some other provider.
const result = await signInWithEmailAndPassword(auth, email, password);
// Link using a redirect.
const provider = new FacebookAuthProvider();
await linkWithRedirect(result.user, provider);
// This will trigger a full page redirect away from your app

// After returning from the redirect when your app initializes you can obtain the result
const result = await getRedirectResult(auth);

```

## multiFactor() function

The [MultiFactorUser](./auth-types.multifactoruser.md#multifactoruser_interface) corresponding to the user.

<b>Signature:</b>

```typescript
export declare function multiFactor(user: externs.User): externs.MultiFactorUser;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |

<b>Returns:</b>

externs.[MultiFactorUser](./auth-types.multifactoruser.md#multifactoruser_interface)

## Remarks

This is used to access all multi-factor properties and operations related to the user.

## onAuthStateChanged() function

Adds an observer for changes to the user's sign-in state.

<b>Signature:</b>

```typescript
export declare function onAuthStateChanged(auth: externs.Auth, nextOrObserver: externs.NextOrObserver<externs.User>, error?: ErrorFn, completed?: CompleteFn): Unsubscribe;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  nextOrObserver | externs.[NextOrObserver](./auth-types.md#nextorobserver_type)<!-- -->&lt;externs.[User](./auth-types.user.md#user_interface)<!-- -->&gt; | callback triggered on change. |
|  error | ErrorFn | callback triggered on error. |
|  completed | CompleteFn | callback triggered when observer is removed. |

<b>Returns:</b>

Unsubscribe

## Remarks

To keep the old behavior, see [onIdTokenChanged()](./auth.md#onidtokenchanged_function)<!-- -->.

## onIdTokenChanged() function

Adds an observer for changes to the signed-in user's ID token, which includes sign-in, sign-out, and token refresh events.

<b>Signature:</b>

```typescript
export declare function onIdTokenChanged(auth: externs.Auth, nextOrObserver: externs.NextOrObserver<externs.User>, error?: ErrorFn, completed?: CompleteFn): Unsubscribe;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  nextOrObserver | externs.[NextOrObserver](./auth-types.md#nextorobserver_type)<!-- -->&lt;externs.[User](./auth-types.user.md#user_interface)<!-- -->&gt; | callback triggered on change. |
|  error | ErrorFn | callback triggered on error. |
|  completed | CompleteFn | callback triggered when observer is removed. |

<b>Returns:</b>

Unsubscribe

## parseActionCodeURL() function

Parses the email action link string and returns an [ActionCodeURL](./auth.actioncodeurl.md#actioncodeurl_class) if the link is valid, otherwise returns null.

<b>Signature:</b>

```typescript
export declare function parseActionCodeURL(link: string): externs.ActionCodeURL | null;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  link | string | The email action link string. |

<b>Returns:</b>

externs.[ActionCodeURL](./auth-types.actioncodeurl.md#actioncodeurl_class) \| null

The ActionCodeURL object, or null if the link is invalid.

## reauthenticateWithCredential() function

Re-authenticates a user using a fresh credential.

<b>Signature:</b>

```typescript
export declare function reauthenticateWithCredential(user: externs.User, credential: externs.AuthCredential): Promise<externs.UserCredential>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |
|  credential | externs.[AuthCredential](./auth-types.authcredential.md#authcredential_class) | The auth credential. |

<b>Returns:</b>

Promise&lt;externs.[UserCredential](./auth-types.usercredential.md#usercredential_interface)<!-- -->&gt;

## Remarks

Use before operations such as [updatePassword()](./auth.md#updatepassword_function) that require tokens from recent sign-in attempts. This method can be used to recover from a  error.

## reauthenticateWithPhoneNumber() function

Re-authenticates a user using a fresh phne credential.

<b>Signature:</b>

```typescript
export declare function reauthenticateWithPhoneNumber(user: externs.User, phoneNumber: string, appVerifier: externs.ApplicationVerifier): Promise<externs.ConfirmationResult>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |
|  phoneNumber | string | The user's phone number in E.164 format (e.g. +16505550101). |
|  appVerifier | externs.[ApplicationVerifier](./auth-types.applicationverifier.md#applicationverifier_interface) | The [ApplicationVerifier](./auth-types.applicationverifier.md#applicationverifier_interface)<!-- -->. |

<b>Returns:</b>

Promise&lt;externs.[ConfirmationResult](./auth-types.confirmationresult.md#confirmationresult_interface)<!-- -->&gt;

## Remarks

Use before operations such as [updatePassword()](./auth.md#updatepassword_function) that require tokens from recent sign-in attempts.

## reauthenticateWithPopup() function

Reauthenticates the current user with the specified [OAuthProvider](./auth.oauthprovider.md#oauthprovider_class) using a pop-up based OAuth flow.

<b>Signature:</b>

```typescript
export declare function reauthenticateWithPopup(user: externs.User, provider: externs.AuthProvider, resolver?: externs.PopupRedirectResolver): Promise<externs.UserCredential>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |
|  provider | externs.[AuthProvider](./auth-types.authprovider.md#authprovider_interface) | The provider to authenticate. The provider has to be an [OAuthProvider](./auth.oauthprovider.md#oauthprovider_class)<!-- -->. Non-OAuth providers like [EmailAuthProvider](./auth.emailauthprovider.md#emailauthprovider_class) will throw an error. |
|  resolver | externs.[PopupRedirectResolver](./auth-types.popupredirectresolver.md#popupredirectresolver_interface) | An instance of [PopupRedirectResolver](./auth-types.popupredirectresolver.md#popupredirectresolver_interface)<!-- -->, optional if already supplied to [initializeAuth()](./auth.md#initializeauth_function) or provided by [getAuth()](./auth.md#getauth_function)<!-- -->. |

<b>Returns:</b>

Promise&lt;externs.[UserCredential](./auth-types.usercredential.md#usercredential_interface)<!-- -->&gt;

## Remarks

If the reauthentication is successful, the returned result will contain the user and the provider's credential.

## Example


```javascript
// Sign in using a popup.
const provider = new FacebookAuthProvider();
const result = await signInWithPopup(auth, provider);
// Reauthenticate using a popup.
await reauthenticateWithPopup(result.user, provider);

```

## reauthenticateWithRedirect() function

Reauthenticates the current user with the specified [OAuthProvider](./auth.oauthprovider.md#oauthprovider_class) using a full-page redirect flow.

<b>Signature:</b>

```typescript
export declare function reauthenticateWithRedirect(user: externs.User, provider: externs.AuthProvider, resolver?: externs.PopupRedirectResolver): Promise<never>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |
|  provider | externs.[AuthProvider](./auth-types.authprovider.md#authprovider_interface) | The provider to authenticate. The provider has to be an [OAuthProvider](./auth.oauthprovider.md#oauthprovider_class)<!-- -->. Non-OAuth providers like [EmailAuthProvider](./auth.emailauthprovider.md#emailauthprovider_class) will throw an error. |
|  resolver | externs.[PopupRedirectResolver](./auth-types.popupredirectresolver.md#popupredirectresolver_interface) | An instance of [PopupRedirectResolver](./auth-types.popupredirectresolver.md#popupredirectresolver_interface)<!-- -->, optional if already supplied to [initializeAuth()](./auth.md#initializeauth_function) or provided by [getAuth()](./auth.md#getauth_function)<!-- -->. |

<b>Returns:</b>

Promise&lt;never&gt;

## Example


```javascript
// Sign in using a redirect.
const provider = new FacebookAuthProvider();
const result = await signInWithRedirect(auth, provider);
// This will trigger a full page redirect away from your app

// After returning from the redirect when your app initializes you can obtain the result
const result = await getRedirectResult(auth);
// Link using a redirect.
await linkWithRedirect(result.user, provider);
// This will again trigger a full page redirect away from your app

// After returning from the redirect when your app initializes you can obtain the result
const result = await getRedirectResult(auth);

```

## reload() function

Reloads user account data, if signed in.

<b>Signature:</b>

```typescript
export declare function reload(user: externs.User): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |

<b>Returns:</b>

Promise&lt;void&gt;

## sendEmailVerification() function

Sends a verification email to a user.

<b>Signature:</b>

```typescript
export declare function sendEmailVerification(user: externs.User, actionCodeSettings?: externs.ActionCodeSettings | null): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |
|  actionCodeSettings | externs.[ActionCodeSettings](./auth-types.actioncodesettings.md#actioncodesettings_interface) \| null | The [ActionCodeSettings](./auth-types.actioncodesettings.md#actioncodesettings_interface)<!-- -->. |

<b>Returns:</b>

Promise&lt;void&gt;

## Remarks

The verification process is completed by calling [applyActionCode()](./auth.md#applyactioncode_function)<!-- -->.

## Example


```javascript
const actionCodeSettings = {
  url: 'https://www.example.com/?email=user@example.com',
  iOS: {
     bundleId: 'com.example.ios'
  },
  android: {
    packageName: 'com.example.android',
    installApp: true,
    minimumVersion: '12'
  },
  handleCodeInApp: true
};
await sendEmailVerification(user, actionCodeSettings);
// Obtain code from the user.
await applyActionCode(auth, code);

```

## sendPasswordResetEmail() function

Sends a password reset email to the given email address.

<b>Signature:</b>

```typescript
export declare function sendPasswordResetEmail(auth: externs.Auth, email: string, actionCodeSettings?: externs.ActionCodeSettings): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  email | string | The user's email address. |
|  actionCodeSettings | externs.[ActionCodeSettings](./auth-types.actioncodesettings.md#actioncodesettings_interface) | The [ActionCodeSettings](./auth-types.actioncodesettings.md#actioncodesettings_interface)<!-- -->. |

<b>Returns:</b>

Promise&lt;void&gt;

## Remarks

To complete the password reset, call [confirmPasswordReset()](./auth.md#confirmpasswordreset_function) with the code supplied in the email sent to the user, along with the new password specified by the user.

## Example


```javascript
const actionCodeSettings = {
  url: 'https://www.example.com/?email=user@example.com',
  iOS: {
     bundleId: 'com.example.ios'
  },
  android: {
    packageName: 'com.example.android',
    installApp: true,
    minimumVersion: '12'
  },
  handleCodeInApp: true
};
await sendPasswordResetEmail(auth, 'user@example.com', actionCodeSettings);
// Obtain code from user.
await confirmPasswordReset('user@example.com', code);

```

## sendSignInLinkToEmail() function

Sends a sign-in email link to the user with the specified email.

<b>Signature:</b>

```typescript
export declare function sendSignInLinkToEmail(auth: externs.Auth, email: string, actionCodeSettings?: externs.ActionCodeSettings): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  email | string | The user's email address. |
|  actionCodeSettings | externs.[ActionCodeSettings](./auth-types.actioncodesettings.md#actioncodesettings_interface) | The [ActionCodeSettings](./auth-types.actioncodesettings.md#actioncodesettings_interface)<!-- -->. |

<b>Returns:</b>

Promise&lt;void&gt;

## Remarks

The sign-in operation has to always be completed in the app unlike other out of band email actions (password reset and email verifications). This is because, at the end of the flow, the user is expected to be signed in and their Auth state persisted within the app.

To complete sign in with the email link, call [signInWithEmailLink()](./auth.md#signinwithemaillink_function) with the email address and the email link supplied in the email sent to the user.

## Example


```javascript
const actionCodeSettings = {
  url: 'https://www.example.com/?email=user@example.com',
  iOS: {
     bundleId: 'com.example.ios'
  },
  android: {
    packageName: 'com.example.android',
    installApp: true,
    minimumVersion: '12'
  },
  handleCodeInApp: true
};
await sendSignInLinkToEmail(auth, 'user@example.com', actionCodeSettings);
// Obtain emailLink from the user.
if(isSignInWithEmailLink(auth, emailLink)) {
  await signInWithEmailLink('user@example.com', 'user@example.com', emailLink);
}

```

## setPersistence() function

Changes the type of persistence on the Auth instance for the currently saved Auth session and applies this type of persistence for future sign-in requests, including sign-in with redirect requests.

<b>Signature:</b>

```typescript
export declare function setPersistence(auth: externs.Auth, persistence: externs.Persistence): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  persistence | externs.[Persistence](./auth-types.persistence.md#persistence_interface) | The [Persistence](./auth-types.persistence.md#persistence_interface) to use. |

<b>Returns:</b>

Promise&lt;void&gt;

A promise that resolves once the persistence change has completed

## Remarks

This makes it easy for a user signing in to specify whether their session should be remembered or not. It also makes it easier to never persist the Auth state for applications that are shared by other users or have sensitive data.

## Example


```javascript
setPersistence(auth, browserSessionPersistence);

```

## signInAnonymously() function

Asynchronously signs in as an anonymous user.

<b>Signature:</b>

```typescript
export declare function signInAnonymously(auth: externs.Auth): Promise<externs.UserCredential>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |

<b>Returns:</b>

Promise&lt;externs.[UserCredential](./auth-types.usercredential.md#usercredential_interface)<!-- -->&gt;

## Remarks

If there is already an anonymous user signed in, that user will be returned; otherwise, a new anonymous user identity will be created and returned.

## signInWithCredential() function

Asynchronously signs in with the given credentials.

<b>Signature:</b>

```typescript
export declare function signInWithCredential(auth: externs.Auth, credential: externs.AuthCredential): Promise<externs.UserCredential>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  credential | externs.[AuthCredential](./auth-types.authcredential.md#authcredential_class) | The auth credential. |

<b>Returns:</b>

Promise&lt;externs.[UserCredential](./auth-types.usercredential.md#usercredential_interface)<!-- -->&gt;

## Remarks

An [AuthProvider](./auth-types.authprovider.md#authprovider_interface) can be used to generate the credential.

## signInWithCustomToken() function

Asynchronously signs in using a custom token.

<b>Signature:</b>

```typescript
export declare function signInWithCustomToken(auth: externs.Auth, customToken: string): Promise<externs.UserCredential>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  customToken | string | The custom token to sign in with. |

<b>Returns:</b>

Promise&lt;externs.[UserCredential](./auth-types.usercredential.md#usercredential_interface)<!-- -->&gt;

## Remarks

Custom tokens are used to integrate Firebase Auth with existing auth systems, and must be generated by an auth backend using the [createCustomToken](https://firebase.google.com/docs/reference/admin/node/admin.auth.Auth#createcustomtoken) method in the [Admin SDK](https://firebase.google.com/docs/auth/admin) .

Fails with an error if the token is invalid, expired, or not accepted by the Firebase Auth service.

## signInWithEmailAndPassword() function

Asynchronously signs in using an email and password.

<b>Signature:</b>

```typescript
export declare function signInWithEmailAndPassword(auth: externs.Auth, email: string, password: string): Promise<externs.UserCredential>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  email | string | The users email address. |
|  password | string | The users password. |

<b>Returns:</b>

Promise&lt;externs.[UserCredential](./auth-types.usercredential.md#usercredential_interface)<!-- -->&gt;

## Remarks

Fails with an error if the email address and password do not match.

Note: The user's password is NOT the password used to access the user's email account. The email address serves as a unique identifier for the user, and the password is used to access the user's account in your Firebase project. See also: [createUserWithEmailAndPassword()](./auth.md#createuserwithemailandpassword_function)<!-- -->.

## signInWithEmailLink() function

Asynchronously signs in using an email and sign-in email link.

<b>Signature:</b>

```typescript
export declare function signInWithEmailLink(auth: externs.Auth, email: string, emailLink?: string): Promise<externs.UserCredential>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  email | string | The user's email address. |
|  emailLink | string | The link sent to the user's email address. |

<b>Returns:</b>

Promise&lt;externs.[UserCredential](./auth-types.usercredential.md#usercredential_interface)<!-- -->&gt;

## Remarks

If no link is passed, the link is inferred from the current URL.

Fails with an error if the email address is invalid or OTP in email link expires.

Note: Confirm the link is a sign-in email link before calling this method firebase.auth.Auth.isSignInWithEmailLink.

## Example


```javascript
const actionCodeSettings = {
  url: 'https://www.example.com/?email=user@example.com',
  iOS: {
     bundleId: 'com.example.ios'
  },
  android: {
    packageName: 'com.example.android',
    installApp: true,
    minimumVersion: '12'
  },
  handleCodeInApp: true
};
await sendSignInLinkToEmail(auth, 'user@example.com', actionCodeSettings);
// Obtain emailLink from the user.
if(isSignInWithEmailLink(auth, emailLink)) {
  await signInWithEmailLink('user@example.com', 'user@example.com', emailLink);
}

```

## signInWithPhoneNumber() function

Asynchronously signs in using a phone number.

<b>Signature:</b>

```typescript
export declare function signInWithPhoneNumber(auth: externs.Auth, phoneNumber: string, appVerifier: externs.ApplicationVerifier): Promise<externs.ConfirmationResult>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  phoneNumber | string | The user's phone number in E.164 format (e.g. +16505550101). |
|  appVerifier | externs.[ApplicationVerifier](./auth-types.applicationverifier.md#applicationverifier_interface) | The [ApplicationVerifier](./auth-types.applicationverifier.md#applicationverifier_interface)<!-- -->. |

<b>Returns:</b>

Promise&lt;externs.[ConfirmationResult](./auth-types.confirmationresult.md#confirmationresult_interface)<!-- -->&gt;

## Remarks

This method sends a code via SMS to the given phone number, and returns a [ConfirmationResult](./auth-types.confirmationresult.md#confirmationresult_interface)<!-- -->. After the user provides the code sent to their phone, call [ConfirmationResult.confirm()](./auth-types.confirmationresult.md#confirmationresultconfirm_method) with the code to sign the user in.

For abuse prevention, this method also requires a [ApplicationVerifier](./auth-types.applicationverifier.md#applicationverifier_interface)<!-- -->. This SDK includes a reCAPTCHA-based implementation, [RecaptchaVerifier](./auth.recaptchaverifier.md#recaptchaverifier_class)<!-- -->.

## Example


```javascript
// 'recaptcha-container' is the ID of an element in the DOM.
const applicationVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container');
const confirmationResult = await signInWithPhoneNumber(auth, phoneNumber, applicationVerifier);
// Obtain a verificationCode from the user.
const credential = await confirmationResult.confirm(verificationCode);

```

## signInWithPopup() function

Authenticates a Firebase client using a popup-based OAuth authentication flow.

<b>Signature:</b>

```typescript
export declare function signInWithPopup(auth: externs.Auth, provider: externs.AuthProvider, resolver?: externs.PopupRedirectResolver): Promise<externs.UserCredential>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  provider | externs.[AuthProvider](./auth-types.authprovider.md#authprovider_interface) | The provider to authenticate. The provider has to be an [OAuthProvider](./auth.oauthprovider.md#oauthprovider_class)<!-- -->. Non-OAuth providers like [EmailAuthProvider](./auth.emailauthprovider.md#emailauthprovider_class) will throw an error. |
|  resolver | externs.[PopupRedirectResolver](./auth-types.popupredirectresolver.md#popupredirectresolver_interface) | An instance of [PopupRedirectResolver](./auth-types.popupredirectresolver.md#popupredirectresolver_interface)<!-- -->, optional if already supplied to [initializeAuth()](./auth.md#initializeauth_function) or provided by [getAuth()](./auth.md#getauth_function)<!-- -->. |

<b>Returns:</b>

Promise&lt;externs.[UserCredential](./auth-types.usercredential.md#usercredential_interface)<!-- -->&gt;

## Remarks

If succeeds, returns the signed in user along with the provider's credential. If sign in was unsuccessful, returns an error object containing additional information about the error.

## Example


```javascript
// Sign in using a popup.
const provider = new FacebookAuthProvider();
const result = await signInWithPopup(auth, provider);

// The signed-in user info.
const user = result.user;
// This gives you a Facebook Access Token.
const credential = provider.credentialFromResult(auth, result);
const token = credential.accessToken;

```

## signInWithRedirect() function

Authenticates a Firebase client using a full-page redirect flow.

<b>Signature:</b>

```typescript
export declare function signInWithRedirect(auth: externs.Auth, provider: externs.AuthProvider, resolver?: externs.PopupRedirectResolver): Promise<never>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  provider | externs.[AuthProvider](./auth-types.authprovider.md#authprovider_interface) | The provider to authenticate. The provider has to be an [OAuthProvider](./auth.oauthprovider.md#oauthprovider_class)<!-- -->. Non-OAuth providers like [EmailAuthProvider](./auth.emailauthprovider.md#emailauthprovider_class) will throw an error. |
|  resolver | externs.[PopupRedirectResolver](./auth-types.popupredirectresolver.md#popupredirectresolver_interface) | An instance of [PopupRedirectResolver](./auth-types.popupredirectresolver.md#popupredirectresolver_interface)<!-- -->, optional if already supplied to [initializeAuth()](./auth.md#initializeauth_function) or provided by [getAuth()](./auth.md#getauth_function)<!-- -->. |

<b>Returns:</b>

Promise&lt;never&gt;

## Remarks

To handle the results and errors for this operation, refer to [getRedirectResult()](./auth.md#getredirectresult_function)<!-- -->.

## Example


```javascript
// Sign in using a redirect.
const provider = new FacebookAuthProvider();
// You can add additional scopes to the provider:
provider.addScope('user_birthday');
// Start a sign in process for an unauthenticated user.
await signInWithRedirect(auth, provider);
// This will trigger a full page redirect away from your app

// After returning from the redirect when your app initializes you can obtain the result
const result = await getRedirectResult(auth);
if (result) {
  // This is the signed-in user
  const user = result.user;
  // This gives you a Facebook Access Token.
  const credential = provider.credentialFromResult(auth, result);
  const token = credential.accessToken;
}
// As this API can be used for sign-in, linking and reauthentication,
// check the operationType to determine what triggered this redirect
// operation.
const operationType = result.operationType;

```

## signOut() function

Signs out the current user.

<b>Signature:</b>

```typescript
export declare function signOut(auth: externs.Auth): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |

<b>Returns:</b>

Promise&lt;void&gt;

## unlink() function

Unlinks a provider from a user account.

<b>Signature:</b>

```typescript
export declare function unlink(user: externs.User, providerId: externs.ProviderId): Promise<externs.User>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |
|  providerId | externs.[ProviderId](./auth-types.md#providerid_enum) | The provider to unlink. |

<b>Returns:</b>

Promise&lt;externs.[User](./auth-types.user.md#user_interface)<!-- -->&gt;

## updateCurrentUser() function

Asynchronously sets the provided user as [Auth.currentUser](./auth-types.auth.md#authcurrentuser_property) on the [Auth](./auth-types.auth.md#auth_interface) instance.

<b>Signature:</b>

```typescript
export declare function updateCurrentUser(auth: externs.Auth, user: externs.User | null): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  user | externs.[User](./auth-types.user.md#user_interface) \| null | The new [User](./auth-types.user.md#user_interface)<!-- -->. |

<b>Returns:</b>

Promise&lt;void&gt;

## Remarks

A new instance copy of the user provided will be made and set as currentUser.

This will trigger [onAuthStateChanged()](./auth.md#onauthstatechanged_function) and [onIdTokenChanged()](./auth.md#onidtokenchanged_function) listeners like other sign in methods.

The operation fails with an error if the user to be updated belongs to a different Firebase project.

## updateEmail() function

Updates the user's email address.

<b>Signature:</b>

```typescript
export declare function updateEmail(user: externs.User, newEmail: string): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |
|  newEmail | string | The new email address. |

<b>Returns:</b>

Promise&lt;void&gt;

## Remarks

An email will be sent to the original email address (if it was set) that allows to revoke the email address change, in order to protect them from account hijacking.

Important: this is a security sensitive operation that requires the user to have recently signed in. If this requirement isn't met, ask the user to authenticate again and then call [reauthenticateWithCredential()](./auth.md#reauthenticatewithcredential_function)<!-- -->.

## updatePassword() function

Updates the user's password.

<b>Signature:</b>

```typescript
export declare function updatePassword(user: externs.User, newPassword: string): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |
|  newPassword | string | The new password. |

<b>Returns:</b>

Promise&lt;void&gt;

## Remarks

Important: this is a security sensitive operation that requires the user to have recently signed in. If this requirement isn't met, ask the user to authenticate again and then call [reauthenticateWithCredential()](./auth.md#reauthenticatewithcredential_function)<!-- -->.

## updatePhoneNumber() function

Updates the user's phone number.

<b>Signature:</b>

```typescript
export declare function updatePhoneNumber(user: externs.User, credential: externs.PhoneAuthCredential): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |
|  credential | externs.[PhoneAuthCredential](./auth-types.phoneauthcredential.md#phoneauthcredential_class) | A credential authenticating the new phone number. |

<b>Returns:</b>

Promise&lt;void&gt;

## Example


```
// 'recaptcha-container' is the ID of an element in the DOM.
const applicationVerifier = new RecaptchaVerifier('recaptcha-container');
const provider = new PhoneAuthProvider(auth);
const verificationId = await provider.verifyPhoneNumber('+16505550101', applicationVerifier);
// Obtain the verificationCode from the user.
const phoneCredential = PhoneAuthProvider.credential(verificationId, verificationCode);
await updatePhoneNumber(user, phoneCredential);

```

## updateProfile() function

Updates a user's profile data.

<b>Signature:</b>

```typescript
export declare function updateProfile(user: externs.User, { displayName, photoURL: photoUrl }: Profile): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |
|  { displayName, photoURL: photoUrl } | Profile |  |

<b>Returns:</b>

Promise&lt;void&gt;

## useAuthEmulator() function

Changes the Auth instance to communicate with the Firebase Auth Emulator, instead of production Firebase Auth services.

<b>Signature:</b>

```typescript
export declare function useAuthEmulator(auth: externs.Auth, url: string, options?: {
    disableWarnings: boolean;
}): void;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  url | string | The URL at which the emulator is running (eg, 'http://localhost:9099'). |
|  options | { disableWarnings: boolean; } |  |

<b>Returns:</b>

void

## Remarks

This must be called synchronously immediately following the first call to [initializeAuth()](./auth.md#initializeauth_function)<!-- -->. Do not use with production credentials as emulator traffic is not encrypted.

## Example


```javascript
useAuthEmulator(auth, 'http://127.0.0.1:9099', { disableWarnings: true });

```

## useDeviceLanguage() function

Sets the current language to the default device/browser preference.

<b>Signature:</b>

```typescript
export declare function useDeviceLanguage(auth: externs.Auth): void;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instanec. |

<b>Returns:</b>

void

## verifyBeforeUpdateEmail() function

Sends a verification email to a new email address.

<b>Signature:</b>

```typescript
export declare function verifyBeforeUpdateEmail(user: externs.User, newEmail: string, actionCodeSettings?: externs.ActionCodeSettings | null): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  user | externs.[User](./auth-types.user.md#user_interface) | The user. |
|  newEmail | string | The new email address to be verified before update. |
|  actionCodeSettings | externs.[ActionCodeSettings](./auth-types.actioncodesettings.md#actioncodesettings_interface) \| null | The [ActionCodeSettings](./auth-types.actioncodesettings.md#actioncodesettings_interface)<!-- -->. |

<b>Returns:</b>

Promise&lt;void&gt;

## Remarks

The user's email will be updated to the new one after being verified.

If you have a custom email action handler, you can complete the verification process by calling [applyActionCode()](./auth.md#applyactioncode_function)<!-- -->.

## Example


```javascript
const actionCodeSettings = {
  url: 'https://www.example.com/?email=user@example.com',
  iOS: {
     bundleId: 'com.example.ios'
  },
  android: {
    packageName: 'com.example.android',
    installApp: true,
    minimumVersion: '12'
  },
  handleCodeInApp: true
};
await verifyBeforeUpdateEmail(user, 'newemail@example.com', actionCodeSettings);
// Obtain code from the user.
await applyActionCode(auth, code);

```

## verifyPasswordResetCode() function

Checks a password reset code sent to the user by email or other out-of-band mechanism.

<b>Signature:</b>

```typescript
export declare function verifyPasswordResetCode(auth: externs.Auth, code: string): Promise<string>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  auth | externs.[Auth](./auth-types.auth.md#auth_interface) | The Auth instance. |
|  code | string | A verification code sent to the user. |

<b>Returns:</b>

Promise&lt;string&gt;

the user's email address if valid.

## browserLocalPersistence variable

An implementation of [Persistence](./auth-types.persistence.md#persistence_interface) of type 'LOCAL' using `localStorage` for the underlying storage.

<b>Signature:</b>

```typescript
browserLocalPersistence: externs.Persistence
```

## browserPopupRedirectResolver variable

An implementation of [PopupRedirectResolver](./auth-types.popupredirectresolver.md#popupredirectresolver_interface) suitable for browser based applications.

<b>Signature:</b>

```typescript
browserPopupRedirectResolver: externs.PopupRedirectResolver
```

## browserSessionPersistence variable

An implementation of [Persistence](./auth-types.persistence.md#persistence_interface) of 'SESSION' using `sessionStorage` for the underlying storage.

<b>Signature:</b>

```typescript
browserSessionPersistence: externs.Persistence
```

## debugErrorMap variable

A verbose error map with detailed descriptions for most error codes.

See discussion at [AuthErrorMap](./auth-types.autherrormap.md#autherrormap_interface)

<b>Signature:</b>

```typescript
debugErrorMap: externs.AuthErrorMap
```

## indexedDBLocalPersistence variable

An implementation of [Persistence](./auth-types.persistence.md#persistence_interface) of type 'LOCAL' using `indexedDB` for the underlying storage.

<b>Signature:</b>

```typescript
indexedDBLocalPersistence: externs.Persistence
```

## inMemoryPersistence variable

An implementation of [Persistence](./auth-types.persistence.md#persistence_interface) of type 'NONE'.

<b>Signature:</b>

```typescript
inMemoryPersistence: externs.Persistence
```

## prodErrorMap variable

A minimal error map with all verbose error messages stripped.

See discussion at [AuthErrorMap](./auth-types.autherrormap.md#autherrormap_interface)

<b>Signature:</b>

```typescript
prodErrorMap: externs.AuthErrorMap
```

## CustomParameters type

Map of OAuth Custom Parameters.

<b>Signature:</b>

```typescript
export declare type CustomParameters = Record<string, string>;
```
{% endblock body %}

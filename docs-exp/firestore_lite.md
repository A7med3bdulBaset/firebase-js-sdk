<!-- Do not edit this file. It is automatically generated by API Documenter. -->

{% extends "_internal/templates/reference.html" %}
{% block body %}

## @firebase/firestore/lite

## Classes

|  Class | Description |
|  --- | --- |
|  [Bytes](./firestore_lite.bytes.md#bytes_class) | An immutable object representing an array of bytes. |
|  [CollectionReference](./firestore_lite.collectionreference.md#collectionreference_class) | A <code>CollectionReference</code> object can be used for adding documents, getting document references, and querying for documents (using [query()](./firestore_.md#query_function)<!-- -->). |
|  [DocumentReference](./firestore_lite.documentreference.md#documentreference_class) | A <code>DocumentReference</code> refers to a document location in a Firestore database and can be used to write, read, or listen to the location. The document at the referenced location may or may not exist. |
|  [DocumentSnapshot](./firestore_lite.documentsnapshot.md#documentsnapshot_class) | A <code>DocumentSnapshot</code> contains data read from a document in your Firestore database. The data can be extracted with <code>.data()</code> or <code>.get(&lt;field&gt;)</code> to get a specific field.<!-- -->For a <code>DocumentSnapshot</code> that points to a non-existing document, any data access will return 'undefined'. You can use the <code>exists()</code> method to explicitly verify a document's existence. |
|  [FieldPath](./firestore_lite.fieldpath.md#fieldpath_class) | A <code>FieldPath</code> refers to a field in a document. The path may consist of a single field name (referring to a top-level field in the document), or a list of field names (referring to a nested field in the document).<!-- -->Create a <code>FieldPath</code> by providing field names. If more than one field name is provided, the path will point to a nested field in a document. |
|  [FieldValue](./firestore_lite.fieldvalue.md#fieldvalue_class) | Sentinel values that can be used when writing document fields with <code>set()</code> or <code>update()</code>. |
|  [FirebaseFirestore](./firestore_lite.firebasefirestore.md#firebasefirestore_class) | The Cloud Firestore service interface.<!-- -->Do not call this constructor directly. Instead, use [getFirestore()](./firestore_.md#getfirestore_function)<!-- -->. |
|  [FirestoreError](./firestore_lite.firestoreerror.md#firestoreerror_class) | An error returned by a Firestore operation. |
|  [GeoPoint](./firestore_lite.geopoint.md#geopoint_class) | An immutable object representing a geographic location in Firestore. The location is represented as latitude/longitude pair.<!-- -->Latitude values are in the range of \[-90, 90\]. Longitude values are in the range of \[-180, 180\]. |
|  [Query](./firestore_lite.query.md#query_class) | A <code>Query</code> refers to a Query which you can read or listen to. You can also construct refined <code>Query</code> objects by adding filters and ordering. |
|  [QueryConstraint](./firestore_lite.queryconstraint.md#queryconstraint_class) | A <code>QueryConstraint</code> is used to narrow the set of documents returned by a Firestore query. <code>QueryConstraint</code>s are created by invoking [where()](./firestore_.md#where_function)<!-- -->, [orderBy()](./firestore_.md#orderby_function)<!-- -->, , , , , [limit()](./firestore_.md#limit_function) or [limitToLast()](./firestore_.md#limittolast_function) and can then be passed to [query()](./firestore_.md#query_function) to create a new query instance that also contains this <code>QueryConstraint</code>. |
|  [QueryDocumentSnapshot](./firestore_lite.querydocumentsnapshot.md#querydocumentsnapshot_class) | A <code>QueryDocumentSnapshot</code> contains data read from a document in your Firestore database as part of a query. The document is guaranteed to exist and its data can be extracted with <code>.data()</code> or <code>.get(&lt;field&gt;)</code> to get a specific field.<!-- -->A <code>QueryDocumentSnapshot</code> offers the same API surface as a <code>DocumentSnapshot</code>. Since query results contain only existing documents, the <code>exists</code> property will always be true and <code>data()</code> will never return 'undefined'. |
|  [QuerySnapshot](./firestore_lite.querysnapshot.md#querysnapshot_class) | A <code>QuerySnapshot</code> contains zero or more <code>DocumentSnapshot</code> objects representing the results of a query. The documents can be accessed as an array via the <code>docs</code> property or enumerated using the <code>forEach</code> method. The number of documents can be determined via the <code>empty</code> and <code>size</code> properties. |
|  [Timestamp](./firestore_lite.timestamp.md#timestamp_class) | A <code>Timestamp</code> represents a point in time independent of any time zone or calendar, represented as seconds and fractions of seconds at nanosecond resolution in UTC Epoch time.<!-- -->It is encoded using the Proleptic Gregorian Calendar which extends the Gregorian calendar backwards to year one. It is encoded assuming all minutes are 60 seconds long, i.e. leap seconds are "smeared" so that no leap second table is needed for interpretation. Range is from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59.999999999Z. https://github.com/google/protobuf/blob/master/src/google/protobuf/timestamp.proto |
|  [Transaction](./firestore_lite.transaction.md#transaction_class) | A reference to a transaction.<!-- -->The <code>Transaction</code> object passed to a transaction's <code>updateFunction</code> provides the methods to read and write data within the transaction context. See [runTransaction()](./firestore_.md#runtransaction_function)<!-- -->. |
|  [WriteBatch](./firestore_lite.writebatch.md#writebatch_class) | A write batch, used to perform multiple writes as a single atomic unit.<!-- -->A <code>WriteBatch</code> object can be acquired by calling [writeBatch()](./firestore_.md#writebatch_function)<!-- -->. It provides methods for adding writes to the write batch. None of the writes will be committed (or visible locally) until  is called. |

## Functions

|  Function | Description |
|  --- | --- |
|  [addDoc(reference, data)](./firestore_lite.md#adddoc_function) | Add a new document to specified <code>CollectionReference</code> with the given data, assigning it a document ID automatically.<!-- -->The result of this write will only be reflected in document reads that occur after the returned Promise resolves. If the client is offline, the write fails. If you would like to see local modifications or buffer writes until the client is online, use the full Firestore SDK. |
|  [arrayRemove(elements)](./firestore_lite.md#arrayremove_function) | Returns a special value that can be used with [setDoc()](./firestore_.md#setdoc_function) or  that tells the server to remove the given elements from any array value that already exists on the server. All instances of each element specified will be removed from the array. If the field being modified is not already an array it will be overwritten with an empty array. |
|  [arrayUnion(elements)](./firestore_lite.md#arrayunion_function) | Returns a special value that can be used with  or  that tells the server to union the given elements with any array value that already exists on the server. Each specified element that doesn't already exist in the array will be added to the end. If the field being modified is not already an array it will be overwritten with an array containing exactly the specified elements. |
|  [collection(firestore, path, pathSegments)](./firestore_lite.md#collection_function) | Gets a <code>CollectionReference</code> instance that refers to the collection at the specified absolute path. |
|  [collection(reference, path, pathSegments)](./firestore_lite.md#collection_function) | Gets a <code>CollectionReference</code> instance that refers to a subcollection of <code>reference</code> at the the specified relative path. |
|  [collection(reference, path, pathSegments)](./firestore_lite.md#collection_function) | Gets a <code>CollectionReference</code> instance that refers to a subcollection of <code>reference</code> at the the specified relative path. |
|  [collectionGroup(firestore, collectionId)](./firestore_lite.md#collectiongroup_function) | Creates and returns a new <code>Query</code> instance that includes all documents in the database that are contained in a collection or subcollection with the given <code>collectionId</code>. |
|  [deleteDoc(reference)](./firestore_lite.md#deletedoc_function) | Deletes the document referred to by the specified <code>DocumentReference</code>.<!-- -->The deletion will only be reflected in document reads that occur after the returned Promise resolves. If the client is offline, the delete fails. If you would like to see local modifications or buffer writes until the client is online, use the full Firestore SDK. |
|  [deleteField()](./firestore_lite.md#deletefield_function) | Returns a sentinel for use with  or  with <code>{merge: true}</code> to mark a field for deletion. |
|  [doc(firestore, path, pathSegments)](./firestore_lite.md#doc_function) | Gets a <code>DocumentReference</code> instance that refers to the document at the specified abosulute path. |
|  [doc(reference, path, pathSegments)](./firestore_lite.md#doc_function) | Gets a <code>DocumentReference</code> instance that refers to a document within <code>reference</code> at the specified relative path. If no path is specified, an automatically-generated unique ID will be used for the returned <code>DocumentReference</code>. |
|  [doc(reference, path, pathSegments)](./firestore_lite.md#doc_function) | Gets a <code>DocumentReference</code> instance that refers to a document within <code>reference</code> at the specified relative path. |
|  [documentId()](./firestore_lite.md#documentid_function) | Returns a special sentinel <code>FieldPath</code> to refer to the ID of a document. It can be used in queries to sort or filter by the document ID. |
|  [endAt(snapshot)](./firestore_lite.md#endat_function) | Creates a <code>QueryConstraint</code> that modifies the result set to end at the provided document (inclusive). The end position is relative to the order of the query. The document must contain all of the fields provided in the orderBy of the query. |
|  [endAt(fieldValues)](./firestore_lite.md#endat_function) | Creates a <code>QueryConstraint</code> that modifies the result set to end at the provided fields relative to the order of the query. The order of the field values must match the order of the order by clauses of the query. |
|  [endBefore(snapshot)](./firestore_lite.md#endbefore_function) | Creates a <code>QueryConstraint</code> that modifies the result set to end before the provided document (exclusive). The end position is relative to the order of the query. The document must contain all of the fields provided in the orderBy of the query. |
|  [endBefore(fieldValues)](./firestore_lite.md#endbefore_function) | Creates a <code>QueryConstraint</code> that modifies the result set to end before the provided fields relative to the order of the query. The order of the field values must match the order of the order by clauses of the query. |
|  [getDoc(reference)](./firestore_lite.md#getdoc_function) | Reads the document referred to by the specified document reference.<!-- -->All documents are directly fetched from the server, even if the document was previously read or modified. Recent modifications are only reflected in the retrieved <code>DocumentSnapshot</code> if they have already been applied by the backend. If the client is offline, the read fails. If you like to use caching or see local modifications, please use the full Firestore SDK. |
|  [getDocs(query)](./firestore_lite.md#getdocs_function) | Executes the query and returns the results as a [QuerySnapshot](./firestore_.querysnapshot.md#querysnapshot_class)<!-- -->.<!-- -->All queries are executed directly by the server, even if the the query was previously executed. Recent modifications are only reflected in the retrieved results if they have already been applied by the backend. If the client is offline, the operation fails. To see previously cached result and local modifications, use the full Firestore SDK. |
|  [getFirestore(app)](./firestore_lite.md#getfirestore_function) | Returns the existing instance of Firestore that is associated with the provided . If no instance exists, initializes a new instance with default settings. |
|  [increment(n)](./firestore_lite.md#increment_function) | Returns a special value that can be used with  or  that tells the server to increment the field's current value by the given value.<!-- -->If either the operand or the current field value uses floating point precision, all arithmetic follows IEEE 754 semantics. If both values are integers, values outside of JavaScript's safe number range (<code>Number.MIN_SAFE_INTEGER</code> to <code>Number.MAX_SAFE_INTEGER</code>) are also subject to precision loss. Furthermore, once processed by the Firestore backend, all integer operations are capped between -2^63 and 2^63-1.<!-- -->If the current field value is not of type <code>number</code>, or if the field does not yet exist, the transformation sets the field to the given value. |
|  [initializeFirestore(app, settings)](./firestore_lite.md#initializefirestore_function) | Initializes a new instance of Cloud Firestore with the provided settings. Can only be called before any other functions, including [getFirestore()](./firestore_.md#getfirestore_function)<!-- -->. If the custom settings are empty, this function is equivalent to calling [getFirestore()](./firestore_.md#getfirestore_function)<!-- -->. |
|  [limit(limit)](./firestore_lite.md#limit_function) | Creates a <code>QueryConstraint</code> that only returns the first matching documents. |
|  [limitToLast(limit)](./firestore_lite.md#limittolast_function) | Creates a <code>QueryConstraint</code> that only returns the last matching documents.<!-- -->You must specify at least one <code>orderBy</code> clause for <code>limitToLast</code> queries, otherwise an exception will be thrown during execution. |
|  [orderBy(fieldPath, directionStr)](./firestore_lite.md#orderby_function) | Creates a <code>QueryConstraint</code> that sorts the query result by the specified field, optionally in descending order instead of ascending. |
|  [query(query, queryConstraints)](./firestore_lite.md#query_function) | Creates a new immutable instance of <code>query</code> that is extended to also include additional query constraints. |
|  [queryEqual(left, right)](./firestore_lite.md#queryequal_function) | Returns true if the provided queries point to the same collection and apply the same constraints. |
|  [refEqual(left, right)](./firestore_lite.md#refequal_function) | Returns true if the provided references are equal. |
|  [runTransaction(firestore, updateFunction)](./firestore_lite.md#runtransaction_function) | Executes the given <code>updateFunction</code> and then attempts to commit the changes applied within the transaction. If any document read within the transaction has changed, Cloud Firestore retries the <code>updateFunction</code>. If it fails to commit after 5 attempts, the transaction fails.<!-- -->The maximum number of writes allowed in a single transaction is 500. |
|  [serverTimestamp()](./firestore_lite.md#servertimestamp_function) | Returns a sentinel used with  or  to include a server-generated timestamp in the written data. |
|  [setDoc(reference, data)](./firestore_lite.md#setdoc_function) | Writes to the document referred to by the specified <code>DocumentReference</code>. If the document does not yet exist, it will be created.<!-- -->The result of this write will only be reflected in document reads that occur after the returned Promise resolves. If the client is offline, the write fails. If you would like to see local modifications or buffer writes until the client is online, use the full Firestore SDK. |
|  [setDoc(reference, data, options)](./firestore_lite.md#setdoc_function) | Writes to the document referred to by the specified <code>DocumentReference</code>. If the document does not yet exist, it will be created. If you provide <code>merge</code> or <code>mergeFields</code>, the provided data can be merged into an existing document.<!-- -->The result of this write will only be reflected in document reads that occur after the returned Promise resolves. If the client is offline, the write fails. If you would like to see local modifications or buffer writes until the client is online, use the full Firestore SDK. |
|  [setLogLevel(logLevel)](./firestore_lite.md#setloglevel_function) | Sets the verbosity of Cloud Firestore logs (debug, error, or silent). |
|  [snapshotEqual(left, right)](./firestore_lite.md#snapshotequal_function) | Returns true if the provided snapshots are equal. |
|  [startAfter(snapshot)](./firestore_lite.md#startafter_function) | Creates a <code>QueryConstraint</code> that modifies the result set to start after the provided document (exclusive). The starting position is relative to the order of the query. The document must contain all of the fields provided in the orderBy of the query. |
|  [startAfter(fieldValues)](./firestore_lite.md#startafter_function) | Creates a <code>QueryConstraint</code> that modifies the result set to start after the provided fields relative to the order of the query. The order of the field values must match the order of the order by clauses of the query. |
|  [startAt(snapshot)](./firestore_lite.md#startat_function) | Creates a <code>QueryConstraint</code> that modifies the result set to start at the provided document (inclusive). The starting position is relative to the order of the query. The document must contain all of the fields provided in the <code>orderBy</code> of this query. |
|  [startAt(fieldValues)](./firestore_lite.md#startat_function) | Creates a <code>QueryConstraint</code> that modifies the result set to start at the provided fields relative to the order of the query. The order of the field values must match the order of the order by clauses of the query. |
|  [terminate(firestore)](./firestore_lite.md#terminate_function) | Terminates the provided Firestore instance.<!-- -->After calling <code>terminate()</code> only the <code>clearIndexedDbPersistence()</code> functions may be used. Any other function will throw a <code>FirestoreError</code>. Termination does not cancel any pending writes, and any promises that are awaiting a response from the server will not be resolved.<!-- -->To restart after termination, create a new instance of FirebaseFirestore with [getFirestore()](./firestore_.md#getfirestore_function)<!-- -->.<!-- -->Note: Under normal circumstances, calling <code>terminate()</code> is not required. This function is useful only when you want to force this instance to release all of its resources or in combination with [clearIndexedDbPersistence()](./firestore_.md#clearindexeddbpersistence_function) to ensure that all local state is destroyed between test runs. |
|  [updateDoc(reference, data)](./firestore_lite.md#updatedoc_function) | Updates fields in the document referred to by the specified <code>DocumentReference</code>. The update will fail if applied to a document that does not exist.<!-- -->The result of this update will only be reflected in document reads that occur after the returned Promise resolves. If the client is offline, the update fails. If you would like to see local modifications or buffer writes until the client is online, use the full Firestore SDK. |
|  [updateDoc(reference, field, value, moreFieldsAndValues)](./firestore_lite.md#updatedoc_function) | Updates fields in the document referred to by the specified <code>DocumentReference</code> The update will fail if applied to a document that does not exist.<!-- -->Nested fields can be updated by providing dot-separated field path strings or by providing <code>FieldPath</code> objects.<!-- -->The result of this update will only be reflected in document reads that occur after the returned Promise resolves. If the client is offline, the update fails. If you would like to see local modifications or buffer writes until the client is online, use the full Firestore SDK. |
|  [useFirestoreEmulator(firestore, host, port)](./firestore_lite.md#usefirestoreemulator_function) | Modify this instance to communicate with the Cloud Firestore emulator.<!-- -->Note: This must be called before this instance has been used to do any operations. |
|  [where(fieldPath, opStr, value)](./firestore_lite.md#where_function) | Creates a <code>QueryConstraint</code> that enforces that documents must contain the specified field and that the value should satisfy the relation constraint provided. |
|  [writeBatch(firestore)](./firestore_lite.md#writebatch_function) | Creates a write batch, used for performing multiple writes as a single atomic operation. The maximum number of writes allowed in a single WriteBatch is 500.<!-- -->The result of these writes will only be reflected in document reads that occur after the returned Promise resolves. If the client is offline, the write fails. If you would like to see local modifications or buffer writes until the client is online, use the full Firestore SDK. |

## Interfaces

|  Interface | Description |
|  --- | --- |
|  [DocumentData](./firestore_lite.documentdata.md#documentdata_interface) | Document data (for use with ) consists of fields mapped to values. |
|  [FirestoreDataConverter](./firestore_lite.firestoredataconverter.md#firestoredataconverter_interface) | Converter used by <code>withConverter()</code> to transform user objects of type <code>T</code> into Firestore data.<!-- -->Using the converter allows you to specify generic type arguments when storing and retrieving objects from Firestore. |
|  [Settings](./firestore_lite.settings.md#settings_interface) |  |
|  [UpdateData](./firestore_lite.updatedata.md#updatedata_interface) | Update data (for use with ) consists of field paths (e.g. 'foo' or 'foo.baz') mapped to values. Fields that contain dots reference nested fields within the document. |

## Type Aliases

|  Type Alias | Description |
|  --- | --- |
|  [FirestoreErrorCode](./firestore_lite.md#firestoreerrorcode_type) | The set of Firestore status codes. The codes are the same at the ones exposed by gRPC here: https://github.com/grpc/grpc/blob/master/doc/statuscodes.md<!-- -->Possible values: - 'cancelled': The operation was cancelled (typically by the caller). - 'unknown': Unknown error or an error from a different error domain. - 'invalid-argument': Client specified an invalid argument. Note that this differs from 'failed-precondition'. 'invalid-argument' indicates arguments that are problematic regardless of the state of the system (e.g. an invalid field name). - 'deadline-exceeded': Deadline expired before operation could complete. For operations that change the state of the system, this error may be returned even if the operation has completed successfully. For example, a successful response from a server could have been delayed long enough for the deadline to expire. - 'not-found': Some requested document was not found. - 'already-exists': Some document that we attempted to create already exists. - 'permission-denied': The caller does not have permission to execute the specified operation. - 'resource-exhausted': Some resource has been exhausted, perhaps a per-user quota, or perhaps the entire file system is out of space. - 'failed-precondition': Operation was rejected because the system is not in a state required for the operation's execution. - 'aborted': The operation was aborted, typically due to a concurrency issue like transaction aborts, etc. - 'out-of-range': Operation was attempted past the valid range. - 'unimplemented': Operation is not implemented or not supported/enabled. - 'internal': Internal errors. Means some invariants expected by underlying system has been broken. If you see one of these errors, something is very broken. - 'unavailable': The service is currently unavailable. This is most likely a transient condition and may be corrected by retrying with a backoff. - 'data-loss': Unrecoverable data loss or corruption. - 'unauthenticated': The request does not have valid authentication credentials for the operation. |
|  [OrderByDirection](./firestore_lite.md#orderbydirection_type) | The direction of a [orderBy()](./firestore_.md#orderby_function) clause is specified as 'desc' or 'asc' (descending or ascending). |
|  [QueryConstraintType](./firestore_lite.md#queryconstrainttype_type) | Describes the different query constraints available in this SDK. |
|  [SetOptions](./firestore_lite.md#setoptions_type) | An options object that configures the behavior of ,  and  calls. These calls can be configured to perform granular merges instead of overwriting the target documents in their entirety by providing a <code>SetOptions</code> with <code>merge: true</code>. |
|  [WhereFilterOp](./firestore_lite.md#wherefilterop_type) | Filter conditions in a [where()](./firestore_.md#where_function) clause are specified using the strings '&amp;lt;', '&amp;lt;=', '==', '!=', '&amp;gt;=', '&amp;gt;', 'array-contains', 'in', 'array-contains-any', and 'not-in'. |

## addDoc() function

Add a new document to specified `CollectionReference` with the given data, assigning it a document ID automatically.

The result of this write will only be reflected in document reads that occur after the returned Promise resolves. If the client is offline, the write fails. If you would like to see local modifications or buffer writes until the client is online, use the full Firestore SDK.

<b>Signature:</b>

```typescript
export declare function addDoc<T>(reference: CollectionReference<T>, data: T): Promise<DocumentReference<T>>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  reference | [CollectionReference](./firestore_lite.collectionreference.md#collectionreference_class)<!-- -->&lt;T&gt; | A reference to the collection to add this document to. |
|  data | T | An Object containing the data for the new document. |

<b>Returns:</b>

Promise&lt;[DocumentReference](./firestore_lite.documentreference.md#documentreference_class)<!-- -->&lt;T&gt;&gt;

A Promise resolved with a `DocumentReference` pointing to the newly created document after it has been written to the backend.

## arrayRemove() function

Returns a special value that can be used with [setDoc()](./firestore_.md#setdoc_function) or  that tells the server to remove the given elements from any array value that already exists on the server. All instances of each element specified will be removed from the array. If the field being modified is not already an array it will be overwritten with an empty array.

<b>Signature:</b>

```typescript
export declare function arrayRemove(...elements: unknown[]): FieldValue;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  elements | unknown\[\] | The elements to remove from the array. |

<b>Returns:</b>

[FieldValue](./firestore_lite.fieldvalue.md#fieldvalue_class)

The `FieldValue` sentinel for use in a call to `setDoc()` or `updateDoc()`

## arrayUnion() function

Returns a special value that can be used with  or  that tells the server to union the given elements with any array value that already exists on the server. Each specified element that doesn't already exist in the array will be added to the end. If the field being modified is not already an array it will be overwritten with an array containing exactly the specified elements.

<b>Signature:</b>

```typescript
export declare function arrayUnion(...elements: unknown[]): FieldValue;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  elements | unknown\[\] | The elements to union into the array. |

<b>Returns:</b>

[FieldValue](./firestore_lite.fieldvalue.md#fieldvalue_class)

The `FieldValue` sentinel for use in a call to `setDoc()` or `updateDoc()`<!-- -->.

## collection() function

Gets a `CollectionReference` instance that refers to the collection at the specified absolute path.

<b>Signature:</b>

```typescript
export declare function collection(firestore: FirebaseFirestore, path: string, ...pathSegments: string[]): CollectionReference<DocumentData>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  firestore | [FirebaseFirestore](./firestore_lite.firebasefirestore.md#firebasefirestore_class) | A reference to the root Firestore instance. |
|  path | string | A slash-separated path to a collection. |
|  pathSegments | string\[\] | Additional path segments to apply relative to the first argument. |

<b>Returns:</b>

[CollectionReference](./firestore_lite.collectionreference.md#collectionreference_class)<!-- -->&lt;[DocumentData](./firestore_lite.documentdata.md#documentdata_interface)<!-- -->&gt;

The `CollectionReference` instance.

## Exceptions

If the final path has an even number of segments and does not point to a collection.

## collection() function

Gets a `CollectionReference` instance that refers to a subcollection of `reference` at the the specified relative path.

<b>Signature:</b>

```typescript
export declare function collection(reference: CollectionReference<unknown>, path: string, ...pathSegments: string[]): CollectionReference<DocumentData>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  reference | [CollectionReference](./firestore_lite.collectionreference.md#collectionreference_class)<!-- -->&lt;unknown&gt; | A reference to a collection. |
|  path | string | A slash-separated path to a collection. |
|  pathSegments | string\[\] | Additional path segments to apply relative to the first argument. |

<b>Returns:</b>

[CollectionReference](./firestore_lite.collectionreference.md#collectionreference_class)<!-- -->&lt;[DocumentData](./firestore_lite.documentdata.md#documentdata_interface)<!-- -->&gt;

The `CollectionReference` instance.

## Exceptions

If the final path has an even number of segments and does not point to a collection.

## collection() function

Gets a `CollectionReference` instance that refers to a subcollection of `reference` at the the specified relative path.

<b>Signature:</b>

```typescript
export declare function collection(reference: DocumentReference, path: string, ...pathSegments: string[]): CollectionReference<DocumentData>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  reference | [DocumentReference](./firestore_lite.documentreference.md#documentreference_class) | A reference to a Firestore document. |
|  path | string | A slash-separated path to a collection. |
|  pathSegments | string\[\] | Additional path segments that will be applied relative to the first argument. |

<b>Returns:</b>

[CollectionReference](./firestore_lite.collectionreference.md#collectionreference_class)<!-- -->&lt;[DocumentData](./firestore_lite.documentdata.md#documentdata_interface)<!-- -->&gt;

The `CollectionReference` instance.

## Exceptions

If the final path has an even number of segments and does not point to a collection.

## collectionGroup() function

Creates and returns a new `Query` instance that includes all documents in the database that are contained in a collection or subcollection with the given `collectionId`<!-- -->.

<b>Signature:</b>

```typescript
export declare function collectionGroup(firestore: FirebaseFirestore, collectionId: string): Query<DocumentData>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  firestore | [FirebaseFirestore](./firestore_lite.firebasefirestore.md#firebasefirestore_class) | A reference to the root Firestore instance. |
|  collectionId | string | Identifies the collections to query over. Every collection or subcollection with this ID as the last segment of its path will be included. Cannot contain a slash. |

<b>Returns:</b>

[Query](./firestore_lite.query.md#query_class)<!-- -->&lt;[DocumentData](./firestore_lite.documentdata.md#documentdata_interface)<!-- -->&gt;

The created `Query`<!-- -->.

## deleteDoc() function

Deletes the document referred to by the specified `DocumentReference`<!-- -->.

The deletion will only be reflected in document reads that occur after the returned Promise resolves. If the client is offline, the delete fails. If you would like to see local modifications or buffer writes until the client is online, use the full Firestore SDK.

<b>Signature:</b>

```typescript
export declare function deleteDoc(reference: DocumentReference<unknown>): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  reference | [DocumentReference](./firestore_lite.documentreference.md#documentreference_class)<!-- -->&lt;unknown&gt; | A reference to the document to delete. |

<b>Returns:</b>

Promise&lt;void&gt;

A Promise resolved once the document has been successfully deleted from the backend.

## deleteField() function

Returns a sentinel for use with  or  with `{merge: true}` to mark a field for deletion.

<b>Signature:</b>

```typescript
export declare function deleteField(): FieldValue;
```
<b>Returns:</b>

[FieldValue](./firestore_lite.fieldvalue.md#fieldvalue_class)

## doc() function

Gets a `DocumentReference` instance that refers to the document at the specified abosulute path.

<b>Signature:</b>

```typescript
export declare function doc(firestore: FirebaseFirestore, path: string, ...pathSegments: string[]): DocumentReference<DocumentData>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  firestore | [FirebaseFirestore](./firestore_lite.firebasefirestore.md#firebasefirestore_class) | A reference to the root Firestore instance. |
|  path | string | A slash-separated path to a document. |
|  pathSegments | string\[\] | Additional path segments that will be applied relative to the first argument. |

<b>Returns:</b>

[DocumentReference](./firestore_lite.documentreference.md#documentreference_class)<!-- -->&lt;[DocumentData](./firestore_lite.documentdata.md#documentdata_interface)<!-- -->&gt;

The `DocumentReference` instance.

## Exceptions

If the final path has an odd number of segments and does not point to a document.

## doc() function

Gets a `DocumentReference` instance that refers to a document within `reference` at the specified relative path. If no path is specified, an automatically-generated unique ID will be used for the returned `DocumentReference`<!-- -->.

<b>Signature:</b>

```typescript
export declare function doc<T>(reference: CollectionReference<T>, path?: string, ...pathSegments: string[]): DocumentReference<T>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  reference | [CollectionReference](./firestore_lite.collectionreference.md#collectionreference_class)<!-- -->&lt;T&gt; | A reference to a collection. |
|  path | string | A slash-separated path to a document. Has to be omitted to use auto-genrated IDs. |
|  pathSegments | string\[\] | Additional path segments that will be applied relative to the first argument. |

<b>Returns:</b>

[DocumentReference](./firestore_lite.documentreference.md#documentreference_class)<!-- -->&lt;T&gt;

The `DocumentReference` instance.

## Exceptions

If the final path has an odd number of segments and does not point to a document.

## doc() function

Gets a `DocumentReference` instance that refers to a document within `reference` at the specified relative path.

<b>Signature:</b>

```typescript
export declare function doc(reference: DocumentReference<unknown>, path: string, ...pathSegments: string[]): DocumentReference<DocumentData>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  reference | [DocumentReference](./firestore_lite.documentreference.md#documentreference_class)<!-- -->&lt;unknown&gt; | A reference to a Firestore document. |
|  path | string | A slash-separated path to a document. |
|  pathSegments | string\[\] | Additional path segments that will be applied relative to the first argument. |

<b>Returns:</b>

[DocumentReference](./firestore_lite.documentreference.md#documentreference_class)<!-- -->&lt;[DocumentData](./firestore_lite.documentdata.md#documentdata_interface)<!-- -->&gt;

The `DocumentReference` instance.

## Exceptions

If the final path has an odd number of segments and does not point to a document.

## documentId() function

Returns a special sentinel `FieldPath` to refer to the ID of a document. It can be used in queries to sort or filter by the document ID.

<b>Signature:</b>

```typescript
export declare function documentId(): FieldPath;
```
<b>Returns:</b>

[FieldPath](./firestore_lite.fieldpath.md#fieldpath_class)

## endAt() function

Creates a `QueryConstraint` that modifies the result set to end at the provided document (inclusive). The end position is relative to the order of the query. The document must contain all of the fields provided in the orderBy of the query.

<b>Signature:</b>

```typescript
export declare function endAt(snapshot: DocumentSnapshot<unknown>): QueryConstraint;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  snapshot | [DocumentSnapshot](./firestore_lite.documentsnapshot.md#documentsnapshot_class)<!-- -->&lt;unknown&gt; | The snapshot of the document to end at. |

<b>Returns:</b>

[QueryConstraint](./firestore_lite.queryconstraint.md#queryconstraint_class)

A `QueryConstraint` to pass to `query()`

## endAt() function

Creates a `QueryConstraint` that modifies the result set to end at the provided fields relative to the order of the query. The order of the field values must match the order of the order by clauses of the query.

<b>Signature:</b>

```typescript
export declare function endAt(...fieldValues: unknown[]): QueryConstraint;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldValues | unknown\[\] | The field values to end this query at, in order of the query's order by. |

<b>Returns:</b>

[QueryConstraint](./firestore_lite.queryconstraint.md#queryconstraint_class)

A `QueryConstraint` to pass to `query()`

## endBefore() function

Creates a `QueryConstraint` that modifies the result set to end before the provided document (exclusive). The end position is relative to the order of the query. The document must contain all of the fields provided in the orderBy of the query.

<b>Signature:</b>

```typescript
export declare function endBefore(snapshot: DocumentSnapshot<unknown>): QueryConstraint;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  snapshot | [DocumentSnapshot](./firestore_lite.documentsnapshot.md#documentsnapshot_class)<!-- -->&lt;unknown&gt; | The snapshot of the document to end before. |

<b>Returns:</b>

[QueryConstraint](./firestore_lite.queryconstraint.md#queryconstraint_class)

A `QueryConstraint` to pass to `query()`

## endBefore() function

Creates a `QueryConstraint` that modifies the result set to end before the provided fields relative to the order of the query. The order of the field values must match the order of the order by clauses of the query.

<b>Signature:</b>

```typescript
export declare function endBefore(...fieldValues: unknown[]): QueryConstraint;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldValues | unknown\[\] | The field values to end this query before, in order of the query's order by. |

<b>Returns:</b>

[QueryConstraint](./firestore_lite.queryconstraint.md#queryconstraint_class)

A `QueryConstraint` to pass to `query()`

## getDoc() function

Reads the document referred to by the specified document reference.

All documents are directly fetched from the server, even if the document was previously read or modified. Recent modifications are only reflected in the retrieved `DocumentSnapshot` if they have already been applied by the backend. If the client is offline, the read fails. If you like to use caching or see local modifications, please use the full Firestore SDK.

<b>Signature:</b>

```typescript
export declare function getDoc<T>(reference: DocumentReference<T>): Promise<DocumentSnapshot<T>>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  reference | [DocumentReference](./firestore_lite.documentreference.md#documentreference_class)<!-- -->&lt;T&gt; | The reference of the document to fetch. |

<b>Returns:</b>

Promise&lt;[DocumentSnapshot](./firestore_lite.documentsnapshot.md#documentsnapshot_class)<!-- -->&lt;T&gt;&gt;

A Promise resolved with a `DocumentSnapshot` containing the current document contents.

## getDocs() function

Executes the query and returns the results as a [QuerySnapshot](./firestore_.querysnapshot.md#querysnapshot_class)<!-- -->.

All queries are executed directly by the server, even if the the query was previously executed. Recent modifications are only reflected in the retrieved results if they have already been applied by the backend. If the client is offline, the operation fails. To see previously cached result and local modifications, use the full Firestore SDK.

<b>Signature:</b>

```typescript
export declare function getDocs<T>(query: Query<T>): Promise<QuerySnapshot<T>>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  query | [Query](./firestore_lite.query.md#query_class)<!-- -->&lt;T&gt; | The <code>Query</code> to execute. |

<b>Returns:</b>

Promise&lt;[QuerySnapshot](./firestore_lite.querysnapshot.md#querysnapshot_class)<!-- -->&lt;T&gt;&gt;

A Promise that will be resolved with the results of the query.

## getFirestore() function

Returns the existing instance of Firestore that is associated with the provided . If no instance exists, initializes a new instance with default settings.

<b>Signature:</b>

```typescript
export declare function getFirestore(app: FirebaseApp): FirebaseFirestore;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  app | [FirebaseApp](./app-types.firebaseapp.md#firebaseapp_interface) | The  instance that the returned Firestore instance is associated with. |

<b>Returns:</b>

[FirebaseFirestore](./firestore_lite.firebasefirestore.md#firebasefirestore_class)

The `Firestore` instance of the provided app.

## increment() function

Returns a special value that can be used with  or  that tells the server to increment the field's current value by the given value.

If either the operand or the current field value uses floating point precision, all arithmetic follows IEEE 754 semantics. If both values are integers, values outside of JavaScript's safe number range (`Number.MIN_SAFE_INTEGER` to `Number.MAX_SAFE_INTEGER`<!-- -->) are also subject to precision loss. Furthermore, once processed by the Firestore backend, all integer operations are capped between -2^63 and 2^63-1.

If the current field value is not of type `number`<!-- -->, or if the field does not yet exist, the transformation sets the field to the given value.

<b>Signature:</b>

```typescript
export declare function increment(n: number): FieldValue;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  n | number | The value to increment by. |

<b>Returns:</b>

[FieldValue](./firestore_lite.fieldvalue.md#fieldvalue_class)

The `FieldValue` sentinel for use in a call to `setDoc()` or `updateDoc()`

## initializeFirestore() function

Initializes a new instance of Cloud Firestore with the provided settings. Can only be called before any other functions, including [getFirestore()](./firestore_.md#getfirestore_function)<!-- -->. If the custom settings are empty, this function is equivalent to calling [getFirestore()](./firestore_.md#getfirestore_function)<!-- -->.

<b>Signature:</b>

```typescript
export declare function initializeFirestore(app: FirebaseApp, settings: Settings): FirebaseFirestore;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  app | [FirebaseApp](./app-types.firebaseapp.md#firebaseapp_interface) | The  with which the <code>Firestore</code> instance will be associated. |
|  settings | [Settings](./firestore_lite.settings.md#settings_interface) | A settings object to configure the <code>Firestore</code> instance. |

<b>Returns:</b>

[FirebaseFirestore](./firestore_lite.firebasefirestore.md#firebasefirestore_class)

A newly initialized Firestore instance.

## limit() function

Creates a `QueryConstraint` that only returns the first matching documents.

<b>Signature:</b>

```typescript
export declare function limit(limit: number): QueryConstraint;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  limit | number | The maximum number of items to return. |

<b>Returns:</b>

[QueryConstraint](./firestore_lite.queryconstraint.md#queryconstraint_class)

The created `Query`<!-- -->.

## limitToLast() function

Creates a `QueryConstraint` that only returns the last matching documents.

You must specify at least one `orderBy` clause for `limitToLast` queries, otherwise an exception will be thrown during execution.

<b>Signature:</b>

```typescript
export declare function limitToLast(limit: number): QueryConstraint;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  limit | number | The maximum number of items to return. |

<b>Returns:</b>

[QueryConstraint](./firestore_lite.queryconstraint.md#queryconstraint_class)

The created `Query`<!-- -->.

## orderBy() function

Creates a `QueryConstraint` that sorts the query result by the specified field, optionally in descending order instead of ascending.

<b>Signature:</b>

```typescript
export declare function orderBy(fieldPath: string | FieldPath, directionStr?: OrderByDirection): QueryConstraint;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldPath | string \| [FieldPath](./firestore_lite.fieldpath.md#fieldpath_class) | The field to sort by. |
|  directionStr | [OrderByDirection](./firestore_lite.md#orderbydirection_type) | Optional direction to sort by ('asc' or 'desc'). If not specified, order will be ascending. |

<b>Returns:</b>

[QueryConstraint](./firestore_lite.queryconstraint.md#queryconstraint_class)

The created `Query`<!-- -->.

## query() function

Creates a new immutable instance of `query` that is extended to also include additional query constraints.

<b>Signature:</b>

```typescript
export declare function query<T>(query: Query<T>, ...queryConstraints: QueryConstraint[]): Query<T>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  query | [Query](./firestore_lite.query.md#query_class)<!-- -->&lt;T&gt; | The query instance to use as a base for the new constraints. |
|  queryConstraints | [QueryConstraint](./firestore_lite.queryconstraint.md#queryconstraint_class)<!-- -->\[\] | The list of <code>QueryConstraint</code>s to apply. |

<b>Returns:</b>

[Query](./firestore_lite.query.md#query_class)<!-- -->&lt;T&gt;

## Exceptions

if any of the provided query constraints cannot be combined with the existing or new constraints.

## queryEqual() function

Returns true if the provided queries point to the same collection and apply the same constraints.

<b>Signature:</b>

```typescript
export declare function queryEqual<T>(left: Query<T>, right: Query<T>): boolean;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  left | [Query](./firestore_lite.query.md#query_class)<!-- -->&lt;T&gt; | A <code>Query</code> to compare. |
|  right | [Query](./firestore_lite.query.md#query_class)<!-- -->&lt;T&gt; | A <code>Query</code> to compare. |

<b>Returns:</b>

boolean

true if the references point to the same location in the same Firestore database.

## refEqual() function

Returns true if the provided references are equal.

<b>Signature:</b>

```typescript
export declare function refEqual<T>(left: DocumentReference<T> | CollectionReference<T>, right: DocumentReference<T> | CollectionReference<T>): boolean;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  left | [DocumentReference](./firestore_lite.documentreference.md#documentreference_class)<!-- -->&lt;T&gt; \| [CollectionReference](./firestore_lite.collectionreference.md#collectionreference_class)<!-- -->&lt;T&gt; | A reference to compare. |
|  right | [DocumentReference](./firestore_lite.documentreference.md#documentreference_class)<!-- -->&lt;T&gt; \| [CollectionReference](./firestore_lite.collectionreference.md#collectionreference_class)<!-- -->&lt;T&gt; | A reference to compare. |

<b>Returns:</b>

boolean

true if the references point to the same location in the same Firestore database.

## runTransaction() function

Executes the given `updateFunction` and then attempts to commit the changes applied within the transaction. If any document read within the transaction has changed, Cloud Firestore retries the `updateFunction`<!-- -->. If it fails to commit after 5 attempts, the transaction fails.

The maximum number of writes allowed in a single transaction is 500.

<b>Signature:</b>

```typescript
export declare function runTransaction<T>(firestore: FirebaseFirestore, updateFunction: (transaction: Transaction) => Promise<T>): Promise<T>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  firestore | [FirebaseFirestore](./firestore_lite.firebasefirestore.md#firebasefirestore_class) | A reference to the Firestore database to run this transaction against. |
|  updateFunction | (transaction: [Transaction](./firestore_lite.transaction.md#transaction_class)<!-- -->) =&gt; Promise&lt;T&gt; | The function to execute within the transaction context. |

<b>Returns:</b>

Promise&lt;T&gt;

If the transaction completed successfully or was explicitly aborted (the `updateFunction` returned a failed promise), the promise returned by the `updateFunction `<!-- -->is returned here. Otherwise, if the transaction failed, a rejected promise with the corresponding failure error is returned.

## serverTimestamp() function

Returns a sentinel used with  or  to include a server-generated timestamp in the written data.

<b>Signature:</b>

```typescript
export declare function serverTimestamp(): FieldValue;
```
<b>Returns:</b>

[FieldValue](./firestore_lite.fieldvalue.md#fieldvalue_class)

## setDoc() function

Writes to the document referred to by the specified `DocumentReference`<!-- -->. If the document does not yet exist, it will be created.

The result of this write will only be reflected in document reads that occur after the returned Promise resolves. If the client is offline, the write fails. If you would like to see local modifications or buffer writes until the client is online, use the full Firestore SDK.

<b>Signature:</b>

```typescript
export declare function setDoc<T>(reference: DocumentReference<T>, data: T): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  reference | [DocumentReference](./firestore_lite.documentreference.md#documentreference_class)<!-- -->&lt;T&gt; | A reference to the document to write. |
|  data | T | A map of the fields and values for the document. |

<b>Returns:</b>

Promise&lt;void&gt;

A Promise resolved once the data has been successfully written to the backend.

## setDoc() function

Writes to the document referred to by the specified `DocumentReference`<!-- -->. If the document does not yet exist, it will be created. If you provide `merge` or `mergeFields`<!-- -->, the provided data can be merged into an existing document.

The result of this write will only be reflected in document reads that occur after the returned Promise resolves. If the client is offline, the write fails. If you would like to see local modifications or buffer writes until the client is online, use the full Firestore SDK.

<b>Signature:</b>

```typescript
export declare function setDoc<T>(reference: DocumentReference<T>, data: Partial<T>, options: SetOptions): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  reference | [DocumentReference](./firestore_lite.documentreference.md#documentreference_class)<!-- -->&lt;T&gt; | A reference to the document to write. |
|  data | Partial&lt;T&gt; | A map of the fields and values for the document. |
|  options | [SetOptions](./firestore_lite.md#setoptions_type) | An object to configure the set behavior. |

<b>Returns:</b>

Promise&lt;void&gt;

A Promise resolved once the data has been successfully written to the backend.

## setLogLevel() function

Sets the verbosity of Cloud Firestore logs (debug, error, or silent).

<b>Signature:</b>

```typescript
export declare function setLogLevel(logLevel: LogLevel): void;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  logLevel | LogLevel | The verbosity you set for activity and error logging. Can be any of the following values:<ul> <li><code>debug</code> for the most verbose logging level, primarily for debugging.</li> <li><code>error</code> to log errors only.</li> <li><code><code>silent</code> to turn off logging.</li> </ul> |

<b>Returns:</b>

void

## snapshotEqual() function

Returns true if the provided snapshots are equal.

<b>Signature:</b>

```typescript
export declare function snapshotEqual<T>(left: DocumentSnapshot<T> | QuerySnapshot<T>, right: DocumentSnapshot<T> | QuerySnapshot<T>): boolean;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  left | [DocumentSnapshot](./firestore_lite.documentsnapshot.md#documentsnapshot_class)<!-- -->&lt;T&gt; \| [QuerySnapshot](./firestore_lite.querysnapshot.md#querysnapshot_class)<!-- -->&lt;T&gt; | A snapshot to compare. |
|  right | [DocumentSnapshot](./firestore_lite.documentsnapshot.md#documentsnapshot_class)<!-- -->&lt;T&gt; \| [QuerySnapshot](./firestore_lite.querysnapshot.md#querysnapshot_class)<!-- -->&lt;T&gt; | A snapshot to compare. |

<b>Returns:</b>

boolean

true if the snapshots are equal.

## startAfter() function

Creates a `QueryConstraint` that modifies the result set to start after the provided document (exclusive). The starting position is relative to the order of the query. The document must contain all of the fields provided in the orderBy of the query.

<b>Signature:</b>

```typescript
export declare function startAfter(snapshot: DocumentSnapshot<unknown>): QueryConstraint;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  snapshot | [DocumentSnapshot](./firestore_lite.documentsnapshot.md#documentsnapshot_class)<!-- -->&lt;unknown&gt; | The snapshot of the document to start after. |

<b>Returns:</b>

[QueryConstraint](./firestore_lite.queryconstraint.md#queryconstraint_class)

A `QueryConstraint` to pass to `query()`

## startAfter() function

Creates a `QueryConstraint` that modifies the result set to start after the provided fields relative to the order of the query. The order of the field values must match the order of the order by clauses of the query.

<b>Signature:</b>

```typescript
export declare function startAfter(...fieldValues: unknown[]): QueryConstraint;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldValues | unknown\[\] | The field values to start this query after, in order of the query's order by. |

<b>Returns:</b>

[QueryConstraint](./firestore_lite.queryconstraint.md#queryconstraint_class)

A `QueryConstraint` to pass to `query()`

## startAt() function

Creates a `QueryConstraint` that modifies the result set to start at the provided document (inclusive). The starting position is relative to the order of the query. The document must contain all of the fields provided in the `orderBy` of this query.

<b>Signature:</b>

```typescript
export declare function startAt(snapshot: DocumentSnapshot<unknown>): QueryConstraint;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  snapshot | [DocumentSnapshot](./firestore_lite.documentsnapshot.md#documentsnapshot_class)<!-- -->&lt;unknown&gt; | The snapshot of the document to start at. |

<b>Returns:</b>

[QueryConstraint](./firestore_lite.queryconstraint.md#queryconstraint_class)

A `QueryConstraint` to pass to `query()`<!-- -->.

## startAt() function

Creates a `QueryConstraint` that modifies the result set to start at the provided fields relative to the order of the query. The order of the field values must match the order of the order by clauses of the query.

<b>Signature:</b>

```typescript
export declare function startAt(...fieldValues: unknown[]): QueryConstraint;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldValues | unknown\[\] | The field values to start this query at, in order of the query's order by. |

<b>Returns:</b>

[QueryConstraint](./firestore_lite.queryconstraint.md#queryconstraint_class)

A `QueryConstraint` to pass to `query()`<!-- -->.

## terminate() function

Terminates the provided Firestore instance.

After calling `terminate()` only the `clearIndexedDbPersistence()` functions may be used. Any other function will throw a `FirestoreError`<!-- -->. Termination does not cancel any pending writes, and any promises that are awaiting a response from the server will not be resolved.

To restart after termination, create a new instance of FirebaseFirestore with [getFirestore()](./firestore_.md#getfirestore_function)<!-- -->.

Note: Under normal circumstances, calling `terminate()` is not required. This function is useful only when you want to force this instance to release all of its resources or in combination with [clearIndexedDbPersistence()](./firestore_.md#clearindexeddbpersistence_function) to ensure that all local state is destroyed between test runs.

<b>Signature:</b>

```typescript
export declare function terminate(firestore: FirebaseFirestore): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  firestore | [FirebaseFirestore](./firestore_lite.firebasefirestore.md#firebasefirestore_class) | The Firestore instance to terminate. |

<b>Returns:</b>

Promise&lt;void&gt;

A promise that is resolved when the instance has been successfully terminated.

## updateDoc() function

Updates fields in the document referred to by the specified `DocumentReference`<!-- -->. The update will fail if applied to a document that does not exist.

The result of this update will only be reflected in document reads that occur after the returned Promise resolves. If the client is offline, the update fails. If you would like to see local modifications or buffer writes until the client is online, use the full Firestore SDK.

<b>Signature:</b>

```typescript
export declare function updateDoc(reference: DocumentReference<unknown>, data: UpdateData): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  reference | [DocumentReference](./firestore_lite.documentreference.md#documentreference_class)<!-- -->&lt;unknown&gt; | A reference to the document to update. |
|  data | [UpdateData](./firestore_lite.updatedata.md#updatedata_interface) | An object containing the fields and values with which to update the document. Fields can contain dots to reference nested fields within the document. |

<b>Returns:</b>

Promise&lt;void&gt;

A Promise resolved once the data has been successfully written to the backend.

## updateDoc() function

Updates fields in the document referred to by the specified `DocumentReference` The update will fail if applied to a document that does not exist.

Nested fields can be updated by providing dot-separated field path strings or by providing `FieldPath` objects.

The result of this update will only be reflected in document reads that occur after the returned Promise resolves. If the client is offline, the update fails. If you would like to see local modifications or buffer writes until the client is online, use the full Firestore SDK.

<b>Signature:</b>

```typescript
export declare function updateDoc(reference: DocumentReference<unknown>, field: string | FieldPath, value: unknown, ...moreFieldsAndValues: unknown[]): Promise<void>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  reference | [DocumentReference](./firestore_lite.documentreference.md#documentreference_class)<!-- -->&lt;unknown&gt; | A reference to the document to update. |
|  field | string \| [FieldPath](./firestore_lite.fieldpath.md#fieldpath_class) | The first field to update. |
|  value | unknown | The first value. |
|  moreFieldsAndValues | unknown\[\] | Additional key value pairs. |

<b>Returns:</b>

Promise&lt;void&gt;

A Promise resolved once the data has been successfully written to the backend.

## useFirestoreEmulator() function

Modify this instance to communicate with the Cloud Firestore emulator.

Note: This must be called before this instance has been used to do any operations.

<b>Signature:</b>

```typescript
export declare function useFirestoreEmulator(firestore: FirebaseFirestore, host: string, port: number): void;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  firestore | [FirebaseFirestore](./firestore_lite.firebasefirestore.md#firebasefirestore_class) | The Firestore instance to configure to connect to the emulator. |
|  host | string | the emulator host (ex: localhost). |
|  port | number | the emulator port (ex: 9000). |

<b>Returns:</b>

void

## where() function

Creates a `QueryConstraint` that enforces that documents must contain the specified field and that the value should satisfy the relation constraint provided.

<b>Signature:</b>

```typescript
export declare function where(fieldPath: string | FieldPath, opStr: WhereFilterOp, value: unknown): QueryConstraint;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  fieldPath | string \| [FieldPath](./firestore_lite.fieldpath.md#fieldpath_class) | The path to compare |
|  opStr | [WhereFilterOp](./firestore_lite.md#wherefilterop_type) | The operation string (e.g "&amp;lt;", "&amp;lt;=", "==", "&amp;lt;", "&amp;lt;=", "!="). |
|  value | unknown | The value for comparison |

<b>Returns:</b>

[QueryConstraint](./firestore_lite.queryconstraint.md#queryconstraint_class)

The created `Query`<!-- -->.

## writeBatch() function

Creates a write batch, used for performing multiple writes as a single atomic operation. The maximum number of writes allowed in a single WriteBatch is 500.

The result of these writes will only be reflected in document reads that occur after the returned Promise resolves. If the client is offline, the write fails. If you would like to see local modifications or buffer writes until the client is online, use the full Firestore SDK.

<b>Signature:</b>

```typescript
export declare function writeBatch(firestore: FirebaseFirestore): WriteBatch;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  firestore | [FirebaseFirestore](./firestore_lite.firebasefirestore.md#firebasefirestore_class) |  |

<b>Returns:</b>

[WriteBatch](./firestore_lite.writebatch.md#writebatch_class)

A `WriteBatch` that can be used to atomically execute multiple writes.

## FirestoreErrorCode type

The set of Firestore status codes. The codes are the same at the ones exposed by gRPC here: https://github.com/grpc/grpc/blob/master/doc/statuscodes.md

Possible values: - 'cancelled': The operation was cancelled (typically by the caller). - 'unknown': Unknown error or an error from a different error domain. - 'invalid-argument': Client specified an invalid argument. Note that this differs from 'failed-precondition'. 'invalid-argument' indicates arguments that are problematic regardless of the state of the system (e.g. an invalid field name). - 'deadline-exceeded': Deadline expired before operation could complete. For operations that change the state of the system, this error may be returned even if the operation has completed successfully. For example, a successful response from a server could have been delayed long enough for the deadline to expire. - 'not-found': Some requested document was not found. - 'already-exists': Some document that we attempted to create already exists. - 'permission-denied': The caller does not have permission to execute the specified operation. - 'resource-exhausted': Some resource has been exhausted, perhaps a per-user quota, or perhaps the entire file system is out of space. - 'failed-precondition': Operation was rejected because the system is not in a state required for the operation's execution. - 'aborted': The operation was aborted, typically due to a concurrency issue like transaction aborts, etc. - 'out-of-range': Operation was attempted past the valid range. - 'unimplemented': Operation is not implemented or not supported/enabled. - 'internal': Internal errors. Means some invariants expected by underlying system has been broken. If you see one of these errors, something is very broken. - 'unavailable': The service is currently unavailable. This is most likely a transient condition and may be corrected by retrying with a backoff. - 'data-loss': Unrecoverable data loss or corruption. - 'unauthenticated': The request does not have valid authentication credentials for the operation.

<b>Signature:</b>

```typescript
export declare type FirestoreErrorCode = 'cancelled' | 'unknown' | 'invalid-argument' | 'deadline-exceeded' | 'not-found' | 'already-exists' | 'permission-denied' | 'resource-exhausted' | 'failed-precondition' | 'aborted' | 'out-of-range' | 'unimplemented' | 'internal' | 'unavailable' | 'data-loss' | 'unauthenticated';
```

## OrderByDirection type

The direction of a [orderBy()](./firestore_.md#orderby_function) clause is specified as 'desc' or 'asc' (descending or ascending).

<b>Signature:</b>

```typescript
export declare type OrderByDirection = 'desc' | 'asc';
```

## QueryConstraintType type

Describes the different query constraints available in this SDK.

<b>Signature:</b>

```typescript
export declare type QueryConstraintType = 'where' | 'orderBy' | 'limit' | 'limitToLast' | 'startAt' | 'startAfter' | 'endAt' | 'endBefore';
```

## SetOptions type

An options object that configures the behavior of ,  and  calls. These calls can be configured to perform granular merges instead of overwriting the target documents in their entirety by providing a `SetOptions` with `merge: true`<!-- -->.

<b>Signature:</b>

```typescript
export declare type SetOptions = {
    readonly merge?: boolean;
} | {
    readonly mergeFields?: Array<string | FieldPath>;
};
```

## WhereFilterOp type

Filter conditions in a [where()](./firestore_.md#where_function) clause are specified using the strings '&amp;lt;', '&amp;lt;=', '==', '!=', '&amp;gt;=', '&amp;gt;', 'array-contains', 'in', 'array-contains-any', and 'not-in'.

<b>Signature:</b>

```typescript
export declare type WhereFilterOp = '<' | '<=' | '==' | '!=' | '>=' | '>' | 'array-contains' | 'in' | 'array-contains-any' | 'not-in';
```
{% endblock body %}
